(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{"7wo0":function(t,e,n){"use strict";n.r(e),n.d(e,"SettingsModule",(function(){return on}));var c=n("1VvW"),i=n("I2Ru"),o=n("r9za"),a=n("kZht"),s=n("3kIJ"),r=n("O30t"),b=n("WSu0"),l=n.n(b),d=n("0FJ2"),m=n("Asjx"),g=n("anSm"),p=n("aDqW"),u=n("EmXI"),f=n("IOEv"),h=n("An66"),T=n("hCLc"),C=n("YC1o"),O=n("NxuZ"),S=n("B6Vo"),_=n("pTnX"),v=n("5a6m");function E(t,e){1&t&&a.Pb(0,"tr",20)}function I(t,e){1&t&&a.Pb(0,"tr",21)}function U(t,e){1&t&&a.Pb(0,"th",22)}function P(t,e){if(1&t&&(a.Ub(0,"td",23),a.Ub(1,"button",24),a.Pb(2,"fa-icon",25),a.Tb(),a.Tb()),2&t){const t=e.$implicit;a.Cb(1),a.mc("clipboard",t.createdByIp)}}function A(t,e){1&t&&(a.Ub(0,"th",22),a.Qc(1),a.gc(2,"translate"),a.Tb()),2&t&&(a.Cb(1),a.Rc(a.hc(2,1,"COLUMN.IP_ADDRESS")))}function w(t,e){if(1&t&&(a.Ub(0,"td",23),a.Qc(1),a.Tb()),2&t){const t=e.$implicit;a.Cb(1),a.Sc(" ",t.createdByIp," ")}}function y(t,e){1&t&&(a.Ub(0,"th",22),a.Qc(1),a.gc(2,"translate"),a.Tb()),2&t&&(a.Cb(1),a.Rc(a.hc(2,1,"COLUMN.USER_AGENT")))}function M(t,e){if(1&t&&(a.Ub(0,"td",23),a.Qc(1),a.gc(2,"userAgent"),a.Tb()),2&t){const t=e.$implicit;a.Cb(1),a.Sc(" ",a.hc(2,1,t.createdByUserAgent)," ")}}function N(t,e){1&t&&(a.Ub(0,"th",22),a.Qc(1),a.gc(2,"translate"),a.Tb()),2&t&&(a.Cb(1),a.Rc(a.hc(2,1,"COLUMN.ISSUED_AT")))}function R(t,e){if(1&t&&(a.Ub(0,"td",23),a.Qc(1),a.gc(2,"date"),a.Tb()),2&t){const t=e.$implicit;a.Cb(1),a.Sc(" ",a.ic(2,1,t.issuedAt,"dd/MMM/yyyy HH:mm:ss")," ")}}function D(t,e){1&t&&(a.Ub(0,"th",22),a.Qc(1),a.gc(2,"translate"),a.Tb()),2&t&&(a.Cb(1),a.Rc(a.hc(2,1,"COLUMN.EXPIRES_AT")))}function k(t,e){if(1&t&&(a.Ub(0,"td",23),a.Qc(1),a.gc(2,"date"),a.Tb()),2&t){const t=e.$implicit;a.Cb(1),a.Sc(" ",a.ic(2,1,t.expiresAt,"dd/MMM/yyyy HH:mm:ss")," ")}}function L(t,e){1&t&&(a.Ub(0,"th",22),a.Qc(1),a.gc(2,"translate"),a.Tb()),2&t&&(a.Cb(1),a.Rc(a.hc(2,1,"COLUMN.REPLENISH")))}function x(t,e){if(1&t){const t=a.Vb();a.Ub(0,"td",26),a.Ub(1,"fa-icon",27),a.bc("click",(function(){a.Ec(t);const n=e.$implicit;return a.fc().replenishSession(n.token)})),a.Tb(),a.Tb()}}function Q(t,e){1&t&&(a.Ub(0,"th",22),a.Qc(1),a.gc(2,"translate"),a.Tb()),2&t&&(a.Cb(1),a.Rc(a.hc(2,1,"BUTTON.DELETE")))}const G=function(){return{color:"var(--warn-colour)"}};function $(t,e){if(1&t){const t=a.Vb();a.Ub(0,"fa-icon",30),a.bc("click",(function(){a.Ec(t);const e=a.fc().$implicit;return a.fc().deleteSession(e.uid)})),a.Tb()}2&t&&a.Kc(a.qc(2,G))}function j(t,e){if(1&t&&(a.Ub(0,"td",28),a.Oc(1,$,1,3,"fa-icon",29),a.Tb()),2&t){const t=e.$implicit,n=a.fc();a.Cb(1),a.mc("ngIf",t.uid!==n.currentSession)}}function H(t,e){if(1&t&&(a.Ub(0,"mat-option",31),a.Qc(1),a.Tb()),2&t){const t=e.$implicit;a.mc("value",t.seconds),a.Cb(1),a.Sc(" ",t.length," ")}}let F=(()=>{class t{constructor(t,e,n){this.formBuilder=t,this.cookie=e,this.breakpointObserver=n,this.form=this.buildForm(),this.sessionLengths=[{length:"4 Hours",seconds:14400},{length:"12 Hours",seconds:43200},{length:"1 Day",seconds:86400},{length:"1 Month",seconds:2592e3}],this.deleteSession$=new a.o,this.changePreferredLifespan$=new a.o}ngOnChanges(t){const e=t.tokenLifespan&&t.tokenLifespan.currentValue;t.activeSessions&&t.activeSessions.currentValue&&(this.tableData=new r.k(this.activeSessions)),e&&(this.form=this.buildForm())}buildForm(){var t;return this.formBuilder.group({tokenLifespan:[null!==(t=this.tokenLifespan)&&void 0!==t?t:43200,s.x.required]})}submitForm(){const{tokenLifespan:t}=this.form.value;this.changePreferredLifespan$.emit(parseInt(t,10))}deleteSession(t){this.deleteSession$.emit(t)}replenishSession(t){}get tableColumns(){return this.breakpointObserver.isMatched("(max-width: 599px)")?["created_by_ip","copy","user_agent","delete"]:["created_by_ip","copy","user_agent","issued_at","expires_at","delete"]}get currentSession(){const t=this.cookie.get("token.access.payload");if(t){const{jti:e}=l()(t);return e}}trackByUid(t,{uid:e}){return e}}return t.\u0275fac=function(e){return new(e||t)(a.Ob(s.d),a.Ob(d.a),a.Ob(m.a))},t.\u0275cmp=a.Ib({type:t,selectors:[["active-sessions"]],inputs:{activeSessions:"activeSessions",tokenLifespan:"tokenLifespan"},outputs:{deleteSession$:"deleteSession",changePreferredLifespan$:"changePreferredLifespan"},features:[a.Ab],decls:36,vars:14,consts:[["mat-table","",3,"dataSource","trackBy"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["matColumnDef","copy"],["mat-header-cell","",4,"matHeaderCellDef"],["body","","mat-cell","",4,"matCellDef"],["matColumnDef","created_by_ip"],["matColumnDef","user_agent"],["matColumnDef","issued_at"],["matColumnDef","expires_at"],["matColumnDef","replenish"],["body","","sbTooltip","TOOLTIP.REPLENISH_SESSION","mat-cell","",4,"matCellDef"],["matColumnDef","delete"],["mat-cell","","body","",4,"matCellDef"],[1,"form",3,"formGroup","ngSubmit"],["body","","translate","",1,"global__text--paragraph"],["color","accent","appearance","fill"],["matNativeControl","","formControlName","tokenLifespan"],[3,"value",4,"ngFor","ngForOf"],["mat-raised-button","",3,"disabled"],["mat-header-row",""],["mat-row",""],["mat-header-cell",""],["body","","mat-cell",""],["type","button","mat-button","","matSuffix","","mat-icon-button","",3,"clipboard"],["icon","copy","size","lg","sbTooltip","TOOLTIP.COPY_TO_CLIPBOARD"],["body","","sbTooltip","TOOLTIP.REPLENISH_SESSION","mat-cell",""],["icon","refresh","size","lg",3,"click"],["mat-cell","","body",""],["icon","close-medium","size","2x","sbTooltip","TOOLTIP.DELETE_SESSION",3,"style","click",4,"ngIf"],["icon","close-medium","size","2x","sbTooltip","TOOLTIP.DELETE_SESSION",3,"click"],[3,"value"]],template:function(t,e){1&t&&(a.Ub(0,"table",0),a.Oc(1,E,1,0,"tr",1),a.Oc(2,I,1,0,"tr",2),a.Sb(3,3),a.Oc(4,U,1,0,"th",4),a.Oc(5,P,3,1,"td",5),a.Rb(),a.Sb(6,6),a.Oc(7,A,3,3,"th",4),a.Oc(8,w,2,1,"td",5),a.Rb(),a.Sb(9,7),a.Oc(10,y,3,3,"th",4),a.Oc(11,M,3,3,"td",5),a.Rb(),a.Sb(12,8),a.Oc(13,N,3,3,"th",4),a.Oc(14,R,3,4,"td",5),a.Rb(),a.Sb(15,9),a.Oc(16,D,3,3,"th",4),a.Oc(17,k,3,4,"td",5),a.Rb(),a.Sb(18,10),a.Oc(19,L,3,3,"th",4),a.Oc(20,x,2,0,"td",11),a.Rb(),a.Sb(21,12),a.Oc(22,Q,3,3,"th",4),a.Oc(23,j,2,1,"td",13),a.Rb(),a.Tb(),a.Ub(24,"form",14),a.bc("ngSubmit",(function(){return e.submitForm()})),a.Ub(25,"p",15),a.Qc(26,"SESSION_MANAGEMENT.LENGTH_DESCRIPTION"),a.Tb(),a.Ub(27,"mat-form-field",16),a.Ub(28,"mat-label"),a.Qc(29),a.gc(30,"translate"),a.Tb(),a.Ub(31,"mat-select",17),a.Oc(32,H,2,2,"mat-option",18),a.Tb(),a.Tb(),a.Ub(33,"button",19),a.Qc(34),a.gc(35,"translate"),a.Tb(),a.Tb()),2&t&&(a.mc("dataSource",e.tableData)("trackBy",e.trackByUid),a.Cb(1),a.mc("matHeaderRowDef",e.tableColumns)("matHeaderRowDefSticky",!0),a.Cb(1),a.mc("matRowDefColumns",e.tableColumns),a.Cb(22),a.mc("formGroup",e.form),a.Cb(5),a.Rc(a.hc(30,10,"FORM.SESSION_LENGTH")),a.Cb(3),a.mc("ngForOf",e.sessionLengths),a.Cb(1),a.mc("disabled",e.form.invalid),a.Cb(1),a.Sc(" ",a.hc(35,12,"BUTTON.SAVE")," "))},directives:[r.j,r.g,r.i,r.c,r.e,r.b,s.z,s.p,s.h,g.a,p.a,u.c,u.f,f.a,s.o,s.g,h.m,T.b,r.f,r.h,r.d,r.a,u.h,C.a,O.b,S.a,h.n,_.n],pipes:[p.d,v.a,h.e],styles:["table[_ngcontent-%COMP%]{margin-bottom:var(--spacing-l)}table[_ngcontent-%COMP%]   .mat-column-delete[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{cursor:pointer}table[_ngcontent-%COMP%]   .mat-column-created_by_ip[_ngcontent-%COMP%]{word-break:break-all;max-width:150px;padding:var(--spacing)}.form[_ngcontent-%COMP%]{padding:var(--spacing)}.form[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:var(--spacing)}.form[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:100%}"],changeDetection:0}),t})();var K=n("zqNl"),B=n("jOdJ"),q=n("uJYd"),Y=n("0tVE"),V=n("9Ccw"),z=n("rxqU"),W=n("sq1e"),J=n("rEzU"),X=n("D57K"),Z=n("gxtV"),tt=n("1etq"),et=n("sXtk"),nt=n("8spT");function ct(t,e){if(1&t){const t=a.Vb();a.Ub(0,"form",2),a.bc("ngSubmit",(function(){return a.Ec(t),a.fc().submitForm()})),a.Sb(1),a.Ub(2,"mat-radio-group",3),a.Ub(3,"p",4),a.Qc(4),a.gc(5,"translate"),a.Tb(),a.Ub(6,"mat-radio-button",5),a.Qc(7),a.gc(8,"translate"),a.Tb(),a.Ub(9,"mat-radio-button",6),a.Qc(10),a.gc(11,"translate"),a.Tb(),a.Ub(12,"mat-radio-button",7),a.Qc(13),a.gc(14,"translate"),a.Tb(),a.Tb(),a.Ub(15,"mat-radio-group",8),a.Ub(16,"p",4),a.Qc(17),a.gc(18,"translate"),a.Tb(),a.Ub(19,"mat-radio-button",5),a.Qc(20),a.gc(21,"translate"),a.Tb(),a.Ub(22,"mat-radio-button",7),a.Qc(23),a.gc(24,"translate"),a.Tb(),a.Tb(),a.Ub(25,"button",9),a.Qc(26),a.gc(27,"translate"),a.Tb(),a.Rb(),a.Tb()}if(2&t){const t=a.fc();a.mc("formGroup",t.form),a.Cb(4),a.Sc(" ",a.hc(5,10,"SETTINGS.API_KEYS.GENERAL_API")," "),a.Cb(3),a.Sc(" ",a.hc(8,12,"SETTINGS.API_KEYS.FULL_ACCESS")," "),a.Cb(3),a.Sc(" ",a.hc(11,14,"SETTINGS.API_KEYS.READ_ONLY")," "),a.Cb(3),a.Sc(" ",a.hc(14,16,"SETTINGS.API_KEYS.NO_ACCESS")," "),a.Cb(4),a.Sc(" ",a.hc(18,18,"SETTINGS.API_KEYS.WITHDRAWAL_API")," "),a.Cb(3),a.Sc(" ",a.hc(21,20,"SETTINGS.API_KEYS.FULL_ACCESS")," "),a.Cb(3),a.Sc(" ",a.hc(24,22,"SETTINGS.API_KEYS.NO_ACCESS")," "),a.Cb(2),a.mc("disabled",t.form.invalid),a.Cb(1),a.Sc(" ",a.hc(27,24,"SETTINGS.API_KEYS.CREATE_KEY")," ")}}function it(t,e){1&t&&(a.Ub(0,"div",10),a.Ub(1,"p",4),a.Qc(2),a.gc(3,"translate"),a.Tb(),a.Tb()),2&t&&(a.Cb(2),a.Sc(" ",a.hc(3,1,"SETTINGS.API_KEYS.GOOGLE_AUTH_REQ")," "))}let ot=(()=>{class t{constructor(t,e){this.formBuilder=t,this.env=e,this.form=this.buildForm(),this.submitForm$=new a.o}buildForm(){return this.formBuilder.group({general:["FULL_ACCESS",s.x.required],transfer:["NO_ACCESS",s.x.required]})}submitForm(){this.submitForm$.emit(this.form.value)}}return t.\u0275fac=function(e){return new(e||t)(a.Ob(s.d),a.Ob(et.a))},t.\u0275cmp=a.Ib({type:t,selectors:[["create-api-key"]],inputs:{mfaActive:"mfaActive",isSsoUser:"isSsoUser"},outputs:{submitForm$:"submitForm"},decls:3,vars:2,consts:[["class","form global__text global__text-body",3,"formGroup","ngSubmit",4,"ngIf","ngIfElse"],["notifyRequired",""],[1,"form","global__text","global__text-body",3,"formGroup","ngSubmit"],["formControlName","general",1,"options"],[1,"global__text","global__text-body"],["value","FULL_ACCESS"],["value","READ_ONLY"],["value","NO_ACCESS"],["formControlName","transfer"],["mat-raised-button","",1,"global__text","global__text-body",3,"disabled"],[1,"warning"]],template:function(t,e){if(1&t&&(a.Oc(0,ct,28,26,"form",0),a.Oc(1,it,4,3,"ng-template",null,1,a.Pc)),2&t){const t=a.Ac(2);a.mc("ngIf",e.env.demo||e.isSsoUser||e.mfaActive)("ngIfElse",t)}},directives:[h.n,s.z,s.p,s.h,nt.b,s.o,s.g,nt.a,T.b],pipes:[p.d],styles:["[_nghost-%COMP%]{display:block}mat-radio-group[_ngcontent-%COMP%]{margin:var(--spacing) 0}mat-radio-group[_ngcontent-%COMP%]   mat-radio-button[_ngcontent-%COMP%]{padding-right:var(--spacing)}mat-radio-group[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding-bottom:var(--spacing)}.form[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:100%}.form[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{margin-top:var(--spacing);width:100%}.warning[_ngcontent-%COMP%]{border:solid var(--warn-colour);text-align:center;padding:var(--spacing);margin:var(--spacing) 0}"],changeDetection:0}),t})();var at=n("chaP"),st=n("zho4"),rt=n("rcUp");function bt(t,e){if(1&t&&(a.Ub(0,"div",5),a.Ub(1,"p",6),a.Qc(2),a.gc(3,"translate"),a.Tb(),a.Tb()),2&t){const t=a.fc();a.Cb(1),a.mc("hidden",null==t.tableData.data?null:t.tableData.data.length),a.Cb(1),a.Sc(" ",a.hc(3,2,"SETTINGS.API_KEYS.NO_KEYS")," ")}}function lt(t,e){1&t&&a.Pb(0,"tr",18)}function dt(t,e){1&t&&a.Pb(0,"tr",19)}function mt(t,e){1&t&&(a.Ub(0,"th",20),a.Qc(1),a.gc(2,"translate"),a.Tb()),2&t&&(a.Cb(1),a.Rc(a.hc(2,1,"SETTINGS.API_KEYS.PUBLIC_KEY")))}const gt=function(){return{color:"var(--icon-colour)"}};function pt(t,e){if(1&t&&(a.Ub(0,"td",21),a.Pb(1,"fa-icon",22),a.Qc(2," \xa0 "),a.Ub(3,"span"),a.Qc(4),a.gc(5,"truncate"),a.Tb(),a.Tb()),2&t){const t=e.$implicit;a.Cb(1),a.Kc(a.qc(10,gt)),a.Lc("font-size",1.2,"em"),a.mc("clipboard",t.publicKey)("clipboardSuccessMsg","SNACKBAR.KEY_COPIED"),a.Cb(3),a.Sc("",a.ic(5,7,t.publicKey,15),"...")}}function ut(t,e){1&t&&(a.Ub(0,"th",20),a.Qc(1),a.gc(2,"translate"),a.Tb()),2&t&&(a.Cb(1),a.Rc(a.hc(2,1,"SETTINGS.API_KEYS.GENERAL_API")))}function ft(t,e){if(1&t&&(a.Ub(0,"td",23),a.Qc(1),a.gc(2,"translate"),a.Tb()),2&t){const t=e.$implicit;a.Cb(1),a.Sc(" ",a.hc(2,1,"PERMISSION."+t.permissions.general)," ")}}function ht(t,e){1&t&&(a.Ub(0,"th",20),a.Qc(1),a.gc(2,"translate"),a.Tb()),2&t&&(a.Cb(1),a.Rc(a.hc(2,1,"SETTINGS.API_KEYS.TRANSFERS_API")))}function Tt(t,e){if(1&t&&(a.Ub(0,"td",23),a.Qc(1),a.gc(2,"translate"),a.Tb()),2&t){const t=e.$implicit;a.Cb(1),a.Sc(" ",a.hc(2,1,"PERMISSION."+t.permissions.transfer)," ")}}function Ct(t,e){1&t&&a.Pb(0,"th",20)}function Ot(t,e){if(1&t){const t=a.Vb();a.Ub(0,"td",23),a.Ub(1,"fa-icon",24),a.bc("click",(function(){a.Ec(t);const n=e.$implicit;return a.fc(2).resetKey$.emit(n.id)})),a.Tb(),a.Tb()}2&t&&(a.Cb(1),a.Kc(a.qc(2,gt)))}function St(t,e){1&t&&a.Pb(0,"th",20)}const _t=function(){return{color:"var(--warn-colour)"}};function vt(t,e){if(1&t){const t=a.Vb();a.Ub(0,"td",23),a.Ub(1,"fa-icon",25),a.bc("click",(function(){a.Ec(t);const n=e.$implicit;return a.fc(2).deleteKey$.emit(n.id)})),a.Tb(),a.Tb()}2&t&&(a.Cb(1),a.Kc(a.qc(2,_t)))}function Et(t,e){if(1&t&&(a.Ub(0,"table",7),a.Oc(1,lt,1,0,"tr",8),a.Oc(2,dt,1,0,"tr",9),a.Sb(3,10),a.Oc(4,mt,3,3,"th",11),a.Oc(5,pt,6,11,"td",12),a.Rb(),a.Sb(6,13),a.Oc(7,ut,3,3,"th",11),a.Oc(8,ft,3,3,"td",14),a.Rb(),a.Sb(9,15),a.Oc(10,ht,3,3,"th",11),a.Oc(11,Tt,3,3,"td",14),a.Rb(),a.Sb(12,16),a.Oc(13,Ct,1,0,"th",11),a.Oc(14,Ot,2,3,"td",14),a.Rb(),a.Sb(15,17),a.Oc(16,St,1,0,"th",11),a.Oc(17,vt,2,3,"td",14),a.Rb(),a.Tb()),2&t){const t=a.fc();a.mc("dataSource",t.tableData)("trackBy",t.trackById),a.Cb(1),a.mc("matHeaderRowDef",t.tableColumns)("matHeaderRowDefSticky",!0),a.Cb(1),a.mc("matRowDefColumns",t.tableColumns)}}let It=(()=>{let t=class{constructor(t,e){this.bpo=t,this.cdr=e,this.tableColumns=[],this.tableData=new r.k([]),this.createKey$=new a.o,this.resetKey$=new a.o,this.deleteKey$=new a.o}set apiKeys(t){this.tableData.data=t}ngOnInit(){this.watchTableColumns()}getDisplayedColumns(t){return t?["publicKey","general","delete"]:["publicKey","general","transfer","reset","delete"]}watchTableColumns(){this.bpo.observe("(max-width: 599px)").pipe(Object(Z.b)(this)).subscribe(({matches:t})=>{this.tableColumns=this.getDisplayedColumns(t),this.cdr.markForCheck()})}trackById(t,e){return e.id}};return t.\u0275fac=function(e){return new(e||t)(a.Ob(m.a),a.Ob(a.h))},t.\u0275cmp=a.Ib({type:t,selectors:[["api-keys"]],inputs:{apiKeys:"apiKeys",mfaActive:"mfaActive",isSsoUser:"isSsoUser"},outputs:{createKey$:"createKey",resetKey$:"resetKey",deleteKey$:"deleteKey"},decls:7,vars:4,consts:[["class","warning",4,"ngIf"],["mat-table","",3,"dataSource","trackBy",4,"ngIf"],[1,"create-key"],["subheading","","translate",""],[3,"mfaActive","isSsoUser","submitForm"],[1,"warning"],["body","",3,"hidden"],["mat-table","",3,"dataSource","trackBy"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["matColumnDef","publicKey"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","","body","","mono","",4,"matCellDef"],["matColumnDef","general"],["mat-cell","","body","",4,"matCellDef"],["matColumnDef","transfer"],["matColumnDef","reset"],["matColumnDef","delete"],["mat-header-row",""],["mat-row",""],["mat-header-cell",""],["mat-cell","","body","","mono",""],["icon","copy","size","lg","sbTooltip","TOOLTIP.COPY_TO_CLIPBOARD","sbDelay","400",3,"clipboard","clipboardSuccessMsg"],["mat-cell","","body",""],["icon","refresh","size","2x","sbTooltip","TOOLTIP.RESET_KEY",3,"click"],["icon","close-large","size","2x","sbTooltip","TOOLTIP.DELETE_KEY",3,"click"]],template:function(t,e){1&t&&(a.Ub(0,"section"),a.Oc(1,bt,4,4,"div",0),a.Oc(2,Et,18,5,"table",1),a.Tb(),a.Ub(3,"section",2),a.Ub(4,"h2",3),a.Qc(5,"HEADING.CREATE_API_KEY"),a.Tb(),a.Ub(6,"create-api-key",4),a.bc("submitForm",(function(t){return e.createKey$.emit(t)})),a.Tb(),a.Tb()),2&t&&(a.Cb(1),a.mc("ngIf",!(null!=e.tableData.data&&e.tableData.data.length)),a.Cb(1),a.mc("ngIf",null==e.tableData.data?null:e.tableData.data.length),a.Cb(4),a.mc("mfaActive",e.mfaActive)("isSsoUser",e.isSsoUser))},directives:[h.n,tt.a,p.a,ot,g.a,r.j,r.g,r.i,r.c,r.e,r.b,r.f,r.h,r.d,r.a,at.a,O.b,S.a,st.a,C.a],pipes:[p.d,rt.a],styles:["[_nghost-%COMP%]{display:block;padding:var(--spacing)}fa-icon[_ngcontent-%COMP%]{cursor:pointer}.options[_ngcontent-%COMP%]{display:flex;flex-direction:column}.warning[_ngcontent-%COMP%]{border:solid var(--warn-colour);text-align:center;padding:var(--spacing);margin:var(--spacing) 0}.create-key[_ngcontent-%COMP%] > h2[_ngcontent-%COMP%], .create-key[_ngcontent-%COMP%]   create-api-key[_ngcontent-%COMP%]{margin-top:var(--spacing)}"],changeDetection:0}),t=Object(X.d)([Object(Z.a)()],t),t})(),Ut=(()=>{class t{get api(){return"https://vip.futures.kraken.com/derivatives/api/v3"}get ws(){return"wss://vip.futures.kraken.com/ws/v1"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=a.Ib({type:t,selectors:[["ip-whitelist"]],decls:10,vars:8,consts:[[1,"info"],["body",""],["body","",1,"global__text--accent"]],template:function(t,e){1&t&&(a.Ub(0,"div",0),a.Ub(1,"p",1),a.Qc(2),a.gc(3,"translate"),a.gc(4,"translate"),a.Tb(),a.Pb(5,"br"),a.Ub(6,"p",2),a.Qc(7),a.Tb(),a.Ub(8,"p",2),a.Qc(9),a.Tb(),a.Tb()),2&t&&(a.Cb(2),a.Tc(" ",a.hc(3,4,"SETTINGS.API_KEYS.WHITELIST_DESCRIPTION")," ",a.hc(4,6,"SETTINGS.API_KEYS.CONNECT_SERVERS")," "),a.Cb(5),a.Sc(" ",e.api," "),a.Cb(2),a.Sc(" ",e.ws," "))},directives:[g.a],pipes:[p.d],styles:["[_nghost-%COMP%]{display:block;padding:var(--spacing)}fa-icon[_ngcontent-%COMP%]{cursor:pointer}.info[_ngcontent-%COMP%]{margin:var(--spacing) 0}.info[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]:first-child{margin-bottom:var(--spacing)}.form[_ngcontent-%COMP%]{margin-top:var(--spacing)}.form[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%], .form[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{width:100%}"],changeDetection:0}),t})(),Pt=(()=>{class t{constructor(t,e){this.store=t,this.translate=e,this.isMfaActive$=this.store.pipe(Object(K.m)(V.a)),this.isSsoUser$=this.store.pipe(Object(K.m)(z.l)),this.apiKeys$=this.store.pipe(Object(K.m)(z.g))}createKey(t){const e=Object(Y.h)(t);this.store.dispatch(Object(q.g)({name:"mfa-confirm",inputs:{action:e}}))}deleteKey(t){this.isMfaActive$.pipe(Object(B.a)()).subscribe(e=>{const n=Object(q.g)({name:"mfa-confirm",inputs:{action:Object(Y.j)({id:t})}});if(e)this.store.dispatch(n);else{const t={title:"DIALOG.DELETE_KEY_CONFIRMATION.TITLE",subtitle:"DIALOG.DELETE_KEY_CONFIRMATION.SUBTITLE",body:this.translate.instant("DIALOG.DELETE_KEY_CONFIRMATION.BODY"),buttons:[{label:"BUTTON.YES",colour:"accent",actions:[n]},{label:"BUTTON.NO",colour:"warn",actions:[Object(q.c)()]}]};this.store.dispatch(Object(q.g)({name:"confirmation",inputs:t}))}})}resetKey(t){const e={title:"DIALOG.RESET_KEY_CONFIRMATION.TITLE",subtitle:"DIALOG.DELETE_KEY_CONFIRMATION.SUBTITLE",body:this.translate.instant("DIALOG.RESET_KEY_CONFIRMATION.BODY"),buttons:[{label:"BUTTON.YES",colour:"accent",actions:[Object(Y.w)({id:t})]},{label:"BUTTON.NO",colour:"warn",actions:[Object(q.c)()]}]};this.store.dispatch(Object(q.g)({name:"confirmation",inputs:e}))}}return t.\u0275fac=function(e){return new(e||t)(a.Ob(K.b),a.Ob(p.e))},t.\u0275cmp=a.Ib({type:t,selectors:[["api-access"]],decls:11,vars:15,consts:[[1,"api-access"],[3,"label"],[3,"apiKeys","mfaActive","isSsoUser","createKey","deleteKey","resetKey"]],template:function(t,e){1&t&&(a.Ub(0,"section",0),a.Ub(1,"mat-tab-group"),a.Ub(2,"mat-tab",1),a.gc(3,"translate"),a.Ub(4,"api-keys",2),a.bc("createKey",(function(t){return e.createKey(t)}))("deleteKey",(function(t){return e.deleteKey(t)}))("resetKey",(function(t){return e.resetKey(t)})),a.gc(5,"async"),a.gc(6,"async"),a.gc(7,"async"),a.Tb(),a.Tb(),a.Ub(8,"mat-tab",1),a.gc(9,"translate"),a.Pb(10,"ip-whitelist"),a.Tb(),a.Tb(),a.Tb()),2&t&&(a.Cb(2),a.mc("label",a.hc(3,5,"SETTINGS.API_KEYS.AVAILABLE_KEYS")),a.Cb(2),a.mc("apiKeys",a.hc(5,7,e.apiKeys$))("mfaActive",a.hc(6,9,e.isMfaActive$))("isSsoUser",a.hc(7,11,e.isSsoUser$)),a.Cb(4),a.mc("label",a.hc(9,13,"SETTINGS.API_KEYS.IP_WHITELIST")))},directives:[W.c,W.a,J.a,It,Ut],pipes:[p.d,h.b],styles:[""],changeDetection:0}),t})();var At=n("94ty"),wt=n("MUfl"),yt=n("jIqt"),Mt=n("Ohay"),Nt=n("Tcl6"),Rt=n("eGwX"),Dt=n("scAs"),kt=n("i9Na"),Lt=n("UDV5");function xt(t,e){1&t&&(a.Ub(0,"div",12),a.Ub(1,"p",13),a.Qc(2),a.gc(3,"translate"),a.Tb(),a.Ub(4,"p",14),a.Qc(5),a.gc(6,"translate"),a.Tb(),a.Ub(7,"p",15),a.Pb(8,"markdown",16),a.gc(9,"translate"),a.Tb(),a.Tb()),2&t&&(a.Cb(2),a.Sc(" ",a.hc(3,3,"ERROR.PASSWORD_COMPROMISED")," "),a.Cb(3),a.Sc(" ",a.hc(6,5,"SUPPORT.HAVE_I_BEEN_PWNED")," "),a.Cb(3),a.mc("data",a.hc(9,7,"SUPPORT.PWNED_URL")))}function Qt(t,e){1&t&&(a.Ub(0,"mat-checkbox",17),a.Qc(1),a.gc(2,"translate"),a.Tb()),2&t&&(a.Cb(1),a.Sc(" ",a.hc(2,1,"FORM.USE_COMPROMISED_PASSWORD_CONFIRM")," "))}let Gt=(()=>{let t=class{constructor(t,e){this.store=t,this.formBuilder=e,this.isPasswordCompromised=!1,this.form=this.buildForm(),this.inputVisibility=!1,this.resetPasswordConfirm=!1,this.passwordCompromised$=this.store.select(V.h)}ngOnInit(){this.passwordCompromised$.pipe(Object(yt.a)(!1),Object(Mt.a)(),Object(Z.b)(this)).subscribe(t=>{var e,n;this.isPasswordCompromised=t,t?null===(n=this.form.get("allowPwnedPassword"))||void 0===n||n.enable():null===(e=this.form.get("allowPwnedPassword"))||void 0===e||e.disable()})}ngOnDestroy(){this.reset()}buildForm(){return this.formBuilder.group({currentPassword:["",[s.x.required]],password:["",[s.x.required]],allowPwnedPassword:[!1,[s.x.requiredTrue]]})}submitForm(){const t=Object(At.d)({currentPassword:this.form.get("currentPassword").value,newPassword:this.form.get("password").value,allowPwned:this.isPasswordCompromised});this.store.dispatch(Object(q.g)({name:"mfa-confirm",inputs:{action:t}}))}updatePassword(t){this.store.dispatch(Object(At.q)({passwordCompromised:!1})),this.form.get("password").setValue(t)}reset(){this.form.reset(),Object.keys(this.form.controls).forEach(t=>this.form.get(t).setErrors(null)),this.resetPasswordConfirm=!this.resetPasswordConfirm,this.store.dispatch(Object(At.q)({passwordCompromised:!1}))}};return t.\u0275fac=function(e){return new(e||t)(a.Ob(K.b),a.Ob(s.d))},t.\u0275cmp=a.Ib({type:t,selectors:[["change-password"]],decls:23,vars:23,consts:[[1,"change-password"],[1,"global__text","global__text-subheading"],[1,"global__text","global__text-body"],["class","warning",4,"ngIf"],[1,"change-password__form","global__text","global__text-body",3,"formGroup","ngSubmit"],["color","accent","appearance","fill"],["matInput","","required","","formControlName","currentPassword","autocomplete","current-password",3,"type"],["mat-button","","mat-icon-button","","matSuffix","","type","button",3,"click"],["size","2x",3,"icon"],[3,"resetToggle","passwordUpdate"],["class","no-border","formControlName","allowPwnedPassword",4,"ngIf"],["mat-raised-button","",1,"global__text","global__text-body",3,"disabled"],[1,"warning"],["body","","bold","",1,"global__text--warn"],["body","","bold",""],["body",""],[3,"data"],["formControlName","allowPwnedPassword",1,"no-border"]],template:function(t,e){1&t&&(a.Ub(0,"section",0),a.Ub(1,"p",1),a.Qc(2),a.gc(3,"translate"),a.Tb(),a.Ub(4,"p",2),a.Qc(5),a.gc(6,"translate"),a.Tb(),a.Oc(7,xt,10,9,"div",3),a.gc(8,"async"),a.Ub(9,"form",4),a.bc("ngSubmit",(function(){return e.submitForm()})),a.Ub(10,"mat-form-field",5),a.Ub(11,"mat-label"),a.Qc(12),a.gc(13,"translate"),a.Tb(),a.Pb(14,"input",6),a.Ub(15,"button",7),a.bc("click",(function(){return e.inputVisibility=!e.inputVisibility})),a.Pb(16,"fa-icon",8),a.Tb(),a.Tb(),a.Ub(17,"input-password-confirm",9),a.bc("passwordUpdate",(function(t){return e.updatePassword(t)})),a.Tb(),a.Oc(18,Qt,3,3,"mat-checkbox",10),a.gc(19,"async"),a.Ub(20,"button",11),a.Qc(21),a.gc(22,"translate"),a.Tb(),a.Tb(),a.Tb()),2&t&&(a.Cb(2),a.Rc(a.hc(3,11,"HEADING.CHANGE_PASSWORD")),a.Cb(3),a.Rc(a.hc(6,13,"SETTINGS.PASSWORD.DESCRIPTION")),a.Cb(2),a.mc("ngIf",a.hc(8,15,e.passwordCompromised$)),a.Cb(2),a.mc("formGroup",e.form),a.Cb(3),a.Sc("",a.hc(13,17,"FORM.CURRENT_PASSWORD"),":"),a.Cb(2),a.mc("type",e.inputVisibility?"text":"password"),a.Cb(2),a.mc("icon",e.inputVisibility?"privacy-on":"privacy-off"),a.Cb(1),a.mc("resetToggle",e.resetPasswordConfirm),a.Cb(1),a.mc("ngIf",a.hc(19,19,e.passwordCompromised$)),a.Cb(2),a.mc("disabled",e.form.invalid),a.Cb(1),a.Sc(" ",a.hc(22,21,"BUTTON.CHANGE_PASSWORD")," "))},directives:[h.n,s.z,s.p,s.h,u.c,u.f,Nt.b,s.c,s.v,s.o,s.g,T.b,u.h,O.b,Rt.a,g.a,Dt.a,kt.a,Lt.a],pipes:[p.d,h.b],styles:[".change-password[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]:first-of-type{margin-bottom:var(--spacing)}.change-password[_ngcontent-%COMP%]   .warning[_ngcontent-%COMP%]{border:solid var(--warn-colour);text-align:center;padding:var(--spacing);margin:var(--spacing) 0}.change-password__form[_ngcontent-%COMP%]{margin-top:var(--spacing)!important}.change-password__form[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:100%}.change-password__form[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{margin-top:var(--spacing);width:100%}markdown[_ngcontent-%COMP%]     a{color:var(--link-colour)}"],changeDetection:0}),t=Object(X.d)([Object(Z.a)()],t),t})();var $t={chars:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bits:5},jt=n("0o+O");function Ht(t,e){if(1&t&&(a.Sb(0),a.Pb(1,"qrcode",11),a.Rb()),2&t){const t=a.fc();a.Cb(1),a.mc("qrdata",t.qrData)("size",196)("level","M")}}function Ft(t,e){1&t&&(a.Ub(0,"div",12),a.Ub(1,"p",13),a.Qc(2),a.gc(3,"translate"),a.Tb(),a.Tb()),2&t&&(a.Cb(2),a.Sc(" ",a.hc(3,1,"SETTINGS.OTP_AUTH.WARN")," "))}function Kt(t,e){if(1&t&&(a.Ub(0,"mat-form-field",6),a.Ub(1,"mat-label"),a.Qc(2),a.gc(3,"translate"),a.Tb(),a.Pb(4,"input",14),a.Tb()),2&t){const t=a.fc();a.Cb(2),a.Rc(a.hc(3,2,"FORM.AUTH_KEY")),a.Cb(2),a.mc("value",t.secret)}}let Bt=(()=>{class t{constructor(t){this.formBuilder=t,this.secret=this.generateSecret(),this.activate$=new a.o,this.deactivate$=new a.o}ngOnChanges(){this.secret=this.generateSecret(),this.form=this.buildForm()}generateSecret(){const t=new Uint8Array(20);return window.crypto.getRandomValues(t),function(t,e,n){void 0===n&&(n={});for(var c=n.pad,i=void 0===c||c,o=(1<<e.bits)-1,a="",s=0,r=0,b=0;b<t.length;++b)for(r=r<<8|255&t[b],s+=8;s>e.bits;)a+=e.chars[o&r>>(s-=e.bits)];if(s&&(a+=e.chars[o&r<<e.bits-s]),i)for(;a.length*e.bits&7;)a+="=";return a}(t,$t,{pad:!1})}buildForm(){return this.formBuilder.group({secret:[this.secret],code:["",[s.x.required,s.x.minLength(6),s.x.maxLength(6)]]})}submitForm(){this.totpActive?this.deactivate$.emit(this.form.get("code").value):this.activate$.emit([this.form.get("secret").value,this.form.get("code").value]),this.form.reset(),this.secret=this.generateSecret(),this.form=this.buildForm()}get qrData(){if(void 0===this.userDetails)return;const t=this.userDetails.email;let e="Kraken Futures";return e=encodeURIComponent(e),`otpauth://totp/${e}:${t}?secret=${this.secret}&issuer=${e}`}}return t.\u0275fac=function(e){return new(e||t)(a.Ob(s.d))},t.\u0275cmp=a.Ib({type:t,selectors:[["totp-auth"]],inputs:{userDetails:"userDetails",totpActive:"totpActive"},outputs:{activate$:"activate",deactivate$:"deactivate"},features:[a.Ab],decls:19,vars:14,consts:[[1,"otp-authentication"],["translate","",1,"otp-authentication__heading","global__text","global__text-subheading"],[4,"ngIf"],[1,"otp-authentication__form","global__text","global__text-body",3,"formGroup","ngSubmit"],["class","otp-authentication__warning",4,"ngIf"],["color","accent","appearance","fill",4,"ngIf"],["color","accent","appearance","fill"],["required","","matInput","","formControlName","code","maxlength","6","autocomplete","off"],["mat-raised-button","",1,"global__text","global__text-body",3,"disabled"],[1,"otp-authentication__info"],["href","https://support.google.com/accounts/answer/1066447?hl=en","target","_blank",1,"global__text","global__text-caption","global__text--link"],[1,"otp-authentication__qr-code",3,"qrdata","size","level"],[1,"otp-authentication__warning"],[1,"global__text--warn","global__text-subheading"],["matInput","","readonly","","formControlName","secret",3,"value"]],template:function(t,e){1&t&&(a.Ub(0,"section",0),a.Ub(1,"p",1),a.Qc(2," LABEL.AUTHENTICATOR_APP "),a.Tb(),a.Oc(3,Ht,2,3,"ng-container",2),a.Ub(4,"form",3),a.bc("ngSubmit",(function(){return e.submitForm()})),a.Oc(5,Ft,4,3,"div",4),a.Oc(6,Kt,5,4,"mat-form-field",5),a.Ub(7,"mat-form-field",6),a.Ub(8,"mat-label"),a.Qc(9),a.gc(10,"translate"),a.Tb(),a.Pb(11,"input",7),a.Tb(),a.Ub(12,"button",8),a.Qc(13),a.gc(14,"translate"),a.Tb(),a.Ub(15,"div",9),a.Ub(16,"a",10),a.Qc(17),a.gc(18,"translate"),a.Tb(),a.Tb(),a.Tb(),a.Tb()),2&t&&(a.Cb(3),a.mc("ngIf",!e.totpActive&&e.qrData),a.Cb(1),a.mc("formGroup",e.form),a.Cb(1),a.mc("ngIf",e.totpActive),a.Cb(1),a.mc("ngIf",!e.totpActive),a.Cb(3),a.Rc(a.hc(10,8,"FORM.2FA_CODE")),a.Cb(3),a.mc("disabled",e.form.invalid),a.Cb(1),a.Sc(" ",a.hc(14,10,e.totpActive?"BUTTON.DEACTIVATE":"BUTTON.ACTIVATE")," "),a.Cb(4),a.Sc(" ",a.hc(18,12,"SETTINGS.OTP_AUTH.LEARN_MORE")," "))},directives:[p.a,h.n,s.z,s.p,s.h,u.c,u.f,Nt.b,s.c,s.v,s.o,s.g,s.k,T.b,jt.a],pipes:[p.d],styles:["[_nghost-%COMP%]{display:block;padding:var(--spacing)}.otp-authentication__heading[_ngcontent-%COMP%], .otp-authentication__qr-code[_ngcontent-%COMP%]{margin-bottom:var(--spacing-l)}.otp-authentication__qr-code[_ngcontent-%COMP%]{display:block;height:196px;width:196px;box-sizing:content-box;border:10px solid #fff}.otp-authentication__warning[_ngcontent-%COMP%]{border:solid var(--warn-colour);text-align:center;padding:var(--spacing);margin:var(--spacing) 0}.otp-authentication__form[_ngcontent-%COMP%]{margin-top:var(--spacing)!important}.otp-authentication__form[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%], .otp-authentication__form[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{width:100%}.otp-authentication__info[_ngcontent-%COMP%]{margin-top:var(--spacing);text-align:center}"],changeDetection:0}),t})();var qt=n("T5QL"),Yt=n("C05f"),Vt=n("GoAz"),zt=n("TLy2"),Wt=n("7J2L");function Jt(t,e){1&t&&a.Pb(0,"tr",19)}function Xt(t,e){1&t&&a.Pb(0,"tr",20)}function Zt(t,e){1&t&&a.Pb(0,"th",21)}function te(t,e){1&t&&(a.Ub(0,"td",22),a.Ub(1,"span",23),a.Pb(2,"fa-icon",24),a.Tb(),a.Tb())}function ee(t,e){1&t&&(a.Ub(0,"th",21),a.Qc(1),a.gc(2,"translate"),a.Tb()),2&t&&(a.Cb(1),a.Sc(" ",a.hc(2,1,"COLUMN.AUTHENTICATOR_NAME")," "))}function ne(t,e){if(1&t&&(a.Ub(0,"td",22),a.Ub(1,"span",23),a.Qc(2),a.Tb(),a.Tb()),2&t){const t=e.$implicit;a.Cb(2),a.Rc(t.name)}}function ce(t,e){1&t&&(a.Ub(0,"th",21),a.Qc(1),a.gc(2,"translate"),a.Tb()),2&t&&(a.Cb(1),a.Sc(" ",a.hc(2,1,"COLUMN.REGISTERED_AT")," "))}function ie(t,e){if(1&t&&(a.Ub(0,"td",22),a.Ub(1,"span",25),a.Qc(2),a.gc(3,"date"),a.Tb(),a.Tb()),2&t){const t=e.$implicit;a.Cb(2),a.Sc(" ",a.ic(3,1,t.created_at,"d MMM y - HH:mm:ss")," ")}}function oe(t,e){1&t&&a.Pb(0,"th",21)}const ae=function(){return{color:"var(--warn-colour)"}};function se(t,e){if(1&t){const t=a.Vb();a.Ub(0,"td",26),a.bc("click",(function(){a.Ec(t);const n=e.$implicit;return a.fc(3).onRemoveDevice(n)})),a.Pb(1,"fa-icon",27),a.Tb()}2&t&&(a.Cb(1),a.Kc(a.qc(2,ae)))}function re(t,e){if(1&t&&(a.Ub(0,"table",9),a.Oc(1,Jt,1,0,"tr",10),a.Oc(2,Xt,1,0,"tr",11),a.Sb(3,12),a.Oc(4,Zt,1,0,"th",13),a.Oc(5,te,3,0,"td",14),a.Rb(),a.Sb(6,15),a.Oc(7,ee,3,3,"th",13),a.Oc(8,ne,3,1,"td",14),a.Rb(),a.Sb(9,16),a.Oc(10,ce,3,3,"th",13),a.Oc(11,ie,4,4,"td",14),a.Rb(),a.Sb(12,17),a.Oc(13,oe,1,0,"th",13),a.Oc(14,se,2,3,"td",18),a.Rb(),a.Tb()),2&t){const t=a.fc(2);a.mc("dataSource",t.devices),a.Cb(1),a.mc("matHeaderRowDef",t.HWAUTH_DEVICE_COLUMNS)("matHeaderRowDefSticky",!0),a.Cb(1),a.mc("matRowDefColumns",t.HWAUTH_DEVICE_COLUMNS)}}function be(t,e){1&t&&(a.Ub(0,"mat-error"),a.Qc(1),a.gc(2,"translate"),a.Tb()),2&t&&(a.Cb(1),a.Sc(" ",a.hc(2,1,"FORM.INVALID_DEVICE_NAME_ERR")," "))}function le(t,e){if(1&t){const t=a.Vb();a.Ub(0,"form",28),a.bc("ngSubmit",(function(){return a.Ec(t),a.fc(2).onRegisterDevice()})),a.Ub(1,"p",29),a.Qc(2),a.gc(3,"translate"),a.Tb(),a.Ub(4,"p",30),a.Qc(5),a.gc(6,"translate"),a.Tb(),a.Ub(7,"mat-form-field",31),a.Ub(8,"mat-label"),a.Qc(9),a.gc(10,"translate"),a.Tb(),a.Pb(11,"input",32),a.Oc(12,be,3,3,"mat-error",33),a.Tb(),a.Ub(13,"button",34),a.Qc(14),a.gc(15,"translate"),a.Tb(),a.Tb()}if(2&t){const t=a.fc(2);a.mc("formGroup",t.form),a.Cb(2),a.Sc(" ",a.hc(3,7,"HEADING.HWAUTH_ADD_DEVICE")," "),a.Cb(3),a.Sc(" ",a.hc(6,9,"SETTINGS.HWAUTH.ADD_DEVICE_GUIDE")," "),a.Cb(4),a.Rc(a.hc(10,11,"FORM.AUTHENTICATOR_NAME")),a.Cb(3),a.mc("ngIf",t.form.get("name").invalid),a.Cb(1),a.mc("disabled",t.form.invalid),a.Cb(1),a.Sc(" ",a.hc(15,13,"BUTTON.ADD_AUTHENTICATOR")," ")}}function de(t,e){1&t&&(a.Ub(0,"div"),a.Ub(1,"div",35),a.Pb(2,"kraken-loading"),a.Ub(3,"div",36),a.Ub(4,"h2",29),a.Qc(5),a.gc(6,"translate"),a.Tb(),a.Ub(7,"p",30),a.Qc(8),a.gc(9,"translate"),a.Tb(),a.Tb(),a.Tb(),a.Tb()),2&t&&(a.Cb(5),a.Sc(" ",a.hc(6,2,"SETTINGS.HWAUTH.WAITING.0")," "),a.Cb(3),a.Sc(" ",a.hc(9,4,"SETTINGS.HWAUTH.WAITING.1")," "))}function me(t,e){1&t&&(a.Ub(0,"span"),a.Ub(1,"div",37),a.Pb(2,"fa-icon",38),a.Ub(3,"p",30),a.Qc(4),a.gc(5,"translate"),a.Tb(),a.Tb(),a.Tb()),2&t&&(a.Cb(4),a.Rc(a.hc(5,1,"SETTINGS.HWAUTH.SUCCESS")))}function ge(t,e){if(1&t){const t=a.Vb();a.Ub(0,"div"),a.Ub(1,"div",39),a.Pb(2,"fa-icon",40),a.Ub(3,"div"),a.Ub(4,"p",4),a.Qc(5,"SETTINGS.HWAUTH.ERROR"),a.Tb(),a.Ub(6,"button",41),a.bc("click",(function(){return a.Ec(t),a.fc(2).reset()})),a.Qc(7),a.gc(8,"translate"),a.Tb(),a.Tb(),a.Tb(),a.Tb()}2&t&&(a.Cb(7),a.Sc(" ",a.hc(8,1,"BUTTON.TRY_AGAIN")," "))}function pe(t,e){if(1&t&&(a.Sb(0),a.Ub(1,"p",3),a.Qc(2,"HEADING.HWAUTH"),a.Tb(),a.Ub(3,"p",4),a.Qc(4,"SETTINGS.HWAUTH.INFO"),a.Tb(),a.Oc(5,re,15,4,"table",5),a.Ub(6,"div",6),a.gc(7,"async"),a.Oc(8,le,16,15,"form",7),a.Oc(9,de,10,6,"div",8),a.Oc(10,me,6,3,"span",8),a.Oc(11,ge,9,3,"div",8),a.Tb(),a.Rb()),2&t){const t=a.fc(),e=a.Ac(2);a.Cb(5),a.mc("ngIf",t.devices.length>0)("ngIfElse",e),a.Cb(1),a.mc("ngSwitch",a.hc(7,7,t.registrationStep$)),a.Cb(2),a.mc("ngSwitchCase","idle"),a.Cb(1),a.mc("ngSwitchCase","waiting"),a.Cb(1),a.mc("ngSwitchCase","success"),a.Cb(1),a.mc("ngSwitchCase","error")}}function ue(t,e){1&t&&(a.Ub(0,"p",4),a.Qc(1,"SETTINGS.HWAUTH.NO_DEVICES"),a.Tb())}function fe(t,e){1&t&&(a.Ub(0,"p",30),a.Qc(1),a.gc(2,"translate"),a.Tb()),2&t&&(a.Cb(1),a.Rc(a.hc(2,1,"SETTINGS.OTP_AUTH.DEMO_NO_2FA")))}let he=(()=>{class t{constructor(t,e,n){this.env=t,this.formBuilder=e,this.fido2=n,this.HWAUTH_DEVICE_COLUMNS=["icon","name","created_at","delete"],this.registrationStep$=new Yt.a("idle"),this.devices=[],this.deviceAdded$=new a.o,this.deviceRemoved$=new a.o}get envSupports2fa(){return!this.env.demo}ngOnInit(){this.form=this.buildForm()}onRegisterDevice(){this.registrationStep$.next("waiting");const t=this.form.get("name").value;this.fido2.fetchRegisterChallenge().pipe(Object(zt.a)(t=>Object(Vt.a)(this.fido2.createPublicKey(t))),Object(zt.a)(e=>{if(!e)throw new Error("createPublicKey did not return a valid credential");return this.fido2.registerCred(e,t)})).subscribe(()=>{this.registrationStep$.next("success"),this.deviceAdded$.emit()},()=>{this.registrationStep$.next("error")})}onRemoveDevice(t){this.deviceRemoved$.emit(t.id)}reset(){this.registrationStep$.next("idle")}buildForm(){return this.formBuilder.group({name:["",s.x.required]})}}return t.\u0275fac=function(e){return new(e||t)(a.Ob(et.a),a.Ob(s.d),a.Ob(qt.a))},t.\u0275cmp=a.Ib({type:t,selectors:[["fido2-authentication"]],inputs:{devices:"devices"},outputs:{deviceAdded$:"deviceAdded",deviceRemoved$:"deviceRemoved"},decls:5,vars:2,consts:[[4,"ngIf","ngIfElse"],["noDevices",""],["noMfa",""],["subheading","","translate",""],["body","","translate",""],["mat-table","","class","devices",3,"dataSource",4,"ngIf","ngIfElse"],[1,"registration",3,"ngSwitch"],[3,"formGroup","ngSubmit",4,"ngSwitchCase"],[4,"ngSwitchCase"],["mat-table","",1,"devices",3,"dataSource"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["matColumnDef","icon"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","created_at"],["matColumnDef","delete"],["mat-cell","","sbTooltip","TOOLTIP.DELETE_HWAUTH_DEVICE",3,"click",4,"matCellDef"],["mat-header-row",""],["mat-row",""],["mat-header-cell",""],["mat-cell",""],[1,"public-key"],["icon","key","size","lg"],[1,"created-at"],["mat-cell","","sbTooltip","TOOLTIP.DELETE_HWAUTH_DEVICE",3,"click"],["icon","close-large"],[3,"formGroup","ngSubmit"],["subheading",""],["body",""],["color","accent","appearance","fill"],["formControlName","name","required","","matInput","","type","text"],[4,"ngIf"],["mat-raised-button","","color","accent",3,"disabled"],[1,"loader"],[1,"loader-text"],[1,"success"],["icon","check","size","lg"],[1,"error"],["icon","circle-exclamationmark","size","lg"],["mat-raised-button","","color","accent",1,"mat-small-button",3,"click"]],template:function(t,e){if(1&t&&(a.Oc(0,pe,12,9,"ng-container",0),a.Oc(1,ue,2,0,"ng-template",null,1,a.Pc),a.Oc(3,fe,3,3,"ng-template",null,2,a.Pc)),2&t){const t=a.Ac(4);a.mc("ngIf",e.envSupports2fa)("ngIfElse",t)}},directives:[h.n,tt.a,p.a,g.a,h.p,h.q,r.j,r.g,r.i,r.c,r.e,r.b,r.f,r.h,r.d,r.a,O.b,S.a,s.z,s.p,s.h,u.c,u.f,s.c,Nt.b,s.o,s.g,s.v,T.b,u.b,Wt.a],pipes:[h.b,p.d,h.e],styles:["[_nghost-%COMP%]{display:block;padding:var(--spacing);border-bottom:1px solid var(--border-colour)}.global__text-subheading[_ngcontent-%COMP%]{margin-bottom:var(--spacing)}.devices[_ngcontent-%COMP%]{margin:var(--spacing) 0}.registration[_ngcontent-%COMP%]{padding-top:var(--spacing)}.registration[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%], .registration[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%}.registration[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{margin-top:var(--spacing)}.loader[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;--loader-size:45px}.loader-text[_ngcontent-%COMP%]{margin-left:var(--spacing-l)}.success[_ngcontent-%COMP%]{display:grid;justify-content:center;align-items:center;gap:var(--spacing);grid-auto-flow:column}.success[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{color:var(--accent-colour);transform:scale(1.5)}.success[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:1rem}.error[_ngcontent-%COMP%]{display:grid;justify-content:center;align-items:center;gap:var(--spacing);grid-auto-flow:column}.error[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{color:var(--warn-colour);transform:scale(1.5)}.error[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:var(--spacing-s)}"],changeDetection:0}),t})();function Te(t,e){if(1&t){const t=a.Vb();a.Ub(0,"fido2-authentication",5),a.bc("deviceAdded",(function(){return a.Ec(t),a.fc().onDeviceAdded()}))("deviceRemoved",(function(e){return a.Ec(t),a.fc().onDeviceRemoved(e)})),a.gc(1,"async"),a.Tb()}if(2&t){const t=a.fc();a.mc("devices",a.hc(1,1,t.hwauthDevices$))}}let Ce=(()=>{class t{constructor(t,e,n){this.store=t,this.env=e,this.feature=n,this.userDetails$=this.store.pipe(Object(K.m)(z.d)),this.hwauthDevices$=this.store.pipe(Object(K.m)(V.f)),this.isMfaActive$=this.store.pipe(Object(K.m)(V.a)),this.isTotpActive$=this.store.pipe(Object(K.m)(V.b))}activateTotp([t,e]){this.store.dispatch(Object(At.b)({secret:t,totp:e}))}deactivateTotp(t){this.store.dispatch(Object(At.j)({totp:t}))}onDeviceAdded(){this.store.dispatch(Object(At.n)()),this.store.dispatch(Object(q.j)({message:"SNACKBAR.HWAUTH_DEVICE_REGISTER_SUCCESS"}))}onDeviceRemoved(t){this.store.dispatch(Object(At.m)({id:t}))}}return t.\u0275fac=function(e){return new(e||t)(a.Ob(K.b),a.Ob(et.a),a.Ob(wt.a))},t.\u0275cmp=a.Ib({type:t,selectors:[["authentication"]],decls:9,vars:7,consts:[[1,"change-password"],[1,"authentication"],["subheading","","translate",""],[3,"devices","deviceAdded","deviceRemoved",4,"ngIf"],[3,"userDetails","totpActive","activate","deactivate"],[3,"devices","deviceAdded","deviceRemoved"]],template:function(t,e){1&t&&(a.Ub(0,"section",0),a.Pb(1,"change-password"),a.Tb(),a.Ub(2,"section",1),a.Ub(3,"h2",2),a.Qc(4,"HEADING.2FA_AUTH"),a.Tb(),a.Oc(5,Te,2,3,"fido2-authentication",3),a.Ub(6,"totp-auth",4),a.bc("activate",(function(t){return e.activateTotp(t)}))("deactivate",(function(t){return e.deactivateTotp(t)})),a.gc(7,"async"),a.gc(8,"async"),a.Tb(),a.Tb()),2&t&&(a.Cb(5),a.mc("ngIf",e.feature.isEnabled("fido2")),a.Cb(1),a.mc("userDetails",a.hc(7,3,e.userDetails$))("totpActive",a.hc(8,5,e.isTotpActive$)))},directives:[Gt,tt.a,p.a,h.n,Bt,he],pipes:[h.b],styles:[".change-password[_ngcontent-%COMP%]{padding:var(--spacing);margin-bottom:var(--spacing)}h2[_ngcontent-%COMP%]{margin:0 var(--spacing)}.mat-divider[_ngcontent-%COMP%]{border-top-color:rgba(var(--text-colour-rgb),.12)}"],changeDetection:0}),t})(),Oe=(()=>{let t=class{constructor(t,e){this.formBuilder=t,this.store=e,this.form=this.buildForm(),this.alertSettings$=this.store.pipe(Object(K.m)(z.h))}ngOnInit(){this.alertSettings$.pipe(Object(Z.b)(this)).subscribe(t=>{const e=t,n=Object(X.f)(e,["type"]);this.form.setValue(n)})}buildForm(t){var e,n,c,i,o,a,s,r;return this.formBuilder.group({accountLogin:[null!==(e=null==t?void 0:t.accountLogin)&&void 0!==e&&e],ticketSubmission:[null!==(n=null==t?void 0:t.ticketSubmission)&&void 0!==n&&n],depositReceived:[null!==(c=null==t?void 0:t.depositReceived)&&void 0!==c&&c],withdrawalReceived:[null!==(i=null==t?void 0:t.withdrawalReceived)&&void 0!==i&&i],initialMargin:[null!==(o=null==t?void 0:t.initialMargin)&&void 0!==o&&o],maintenanceMargin:[null!==(a=null==t?void 0:t.maintenanceMargin)&&void 0!==a&&a],newsletter:[null!==(s=null==t?void 0:t.newsletter)&&void 0!==s&&s],finalSettlement:[null!==(r=null==t?void 0:t.finalSettlement)&&void 0!==r&&r]})}submitForm(){const t=this.form.value;this.store.dispatch(Object(Y.f)(t))}};return t.\u0275fac=function(e){return new(e||t)(a.Ob(s.d),a.Ob(K.b))},t.\u0275cmp=a.Ib({type:t,selectors:[["email-alerts"]],decls:44,vars:26,consts:[["body","",1,"form",3,"formGroup","ngSubmit"],["subheading","","translate",""],["translate",""],[1,"option"],["formControlName","accountLogin"],["formControlName","depositReceived"],["formControlName","withdrawalReceived"],["formControlName","initialMargin"],["formControlName","maintenanceMargin"],["formControlName","finalSettlement"],["formControlName","newsletter"],["mat-raised-button","",3,"disabled"]],template:function(t,e){1&t&&(a.Ub(0,"form",0),a.bc("ngSubmit",(function(){return e.submitForm()})),a.Ub(1,"h2",1),a.Qc(2,"SETTINGS.EMAIL_ALERTS.TITLE"),a.Tb(),a.Ub(3,"p",2),a.Qc(4,"SETTINGS.EMAIL_ALERTS.DESCRIPTION"),a.Tb(),a.Ub(5,"div",3),a.Ub(6,"p",2),a.Qc(7,"SETTINGS.EMAIL_ALERTS.SYSTEM"),a.Tb(),a.Ub(8,"mat-checkbox",4),a.Qc(9),a.gc(10,"translate"),a.Tb(),a.Tb(),a.Ub(11,"div",3),a.Ub(12,"p",2),a.Qc(13,"SETTINGS.EMAIL_ALERTS.TRANSFERS"),a.Tb(),a.Ub(14,"mat-checkbox",5),a.Qc(15),a.gc(16,"translate"),a.Tb(),a.Ub(17,"mat-checkbox",6),a.Qc(18),a.gc(19,"translate"),a.Tb(),a.Tb(),a.Ub(20,"div",3),a.Ub(21,"p",2),a.Qc(22,"SETTINGS.EMAIL_ALERTS.MARGINING"),a.Tb(),a.Ub(23,"mat-checkbox",7),a.Qc(24),a.gc(25,"translate"),a.Tb(),a.Ub(26,"mat-checkbox",8),a.Qc(27),a.gc(28,"translate"),a.Tb(),a.Tb(),a.Ub(29,"div",3),a.Ub(30,"p",2),a.Qc(31,"SETTINGS.EMAIL_ALERTS.SETTLEMENTS"),a.Tb(),a.Ub(32,"mat-checkbox",9),a.Qc(33),a.gc(34,"translate"),a.Tb(),a.Tb(),a.Ub(35,"div",3),a.Ub(36,"p",2),a.Qc(37,"SETTINGS.EMAIL_ALERTS.MARKETING"),a.Tb(),a.Ub(38,"mat-checkbox",10),a.Qc(39),a.gc(40,"translate"),a.Tb(),a.Tb(),a.Ub(41,"button",11),a.Qc(42),a.gc(43,"translate"),a.Tb(),a.Tb()),2&t&&(a.mc("formGroup",e.form),a.Cb(9),a.Sc(" ",a.hc(10,10,"SETTINGS.EMAIL_ALERTS.SIGNIN")," "),a.Cb(6),a.Sc(" ",a.hc(16,12,"SETTINGS.EMAIL_ALERTS.DEPOSIT_RECEIVED")," "),a.Cb(3),a.Sc(" ",a.hc(19,14,"SETTINGS.EMAIL_ALERTS.TRANSFER_CONFIRMATION")," "),a.Cb(6),a.Sc(" ",a.hc(25,16,"SETTINGS.EMAIL_ALERTS.INITIAL_MARGIN")," "),a.Cb(3),a.Sc(" ",a.hc(28,18,"SETTINGS.EMAIL_ALERTS.MAINTENANCE_MARGIN")," "),a.Cb(6),a.Sc(" ",a.hc(34,20,"SETTINGS.EMAIL_ALERTS.FINAL_SETTLEMENT")," "),a.Cb(6),a.Sc(" ",a.hc(40,22,"SETTINGS.EMAIL_ALERTS.NEWSLETTER")," "),a.Cb(2),a.mc("disabled",e.form.invalid),a.Cb(1),a.Sc(" ",a.hc(43,24,"BUTTON.SAVE")," "))},directives:[s.z,s.p,g.a,s.h,tt.a,p.a,Lt.a,s.o,s.g,T.b],pipes:[p.d],styles:["[_nghost-%COMP%]{display:block;padding:var(--spacing)}h2[_ngcontent-%COMP%]{margin-bottom:var(--spacing-s)}.form[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:100%}.form[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{margin-top:var(--spacing);width:100%}.form[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]:first-of-type{margin-bottom:var(--spacing)}.option[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-top:var(--spacing)}.option[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{margin-bottom:var(--spacing-s)}"],changeDetection:0}),t=Object(X.d)([Object(Z.a)()],t),t})();var Se=n("i67J");let _e=(()=>{let t=class{constructor(t,e){this.store=t,this.fb=e,this.showTooltipsControl=this.fb.control(!0),this.showEquityControl=this.fb.control(!0),this.showSnackbarsControl=this.fb.control(!0),this.userData$=this.store.pipe(Object(K.m)(z.a)),this.quantityUnits$=this.store.pipe(Object(K.m)(z.r))}ngOnInit(){this.userData$.pipe(Object(Se.g)()).subscribe(t=>{var e,n,c;this.showTooltipsControl.setValue(null===(e=t.tooltipsShown)||void 0===e||e),this.showEquityControl.setValue(null===(n=t.equityShown)||void 0===n||n),this.showSnackbarsControl.setValue(null===(c=t.snackbars)||void 0===c||c)}),this.showTooltipsControl.valueChanges.pipe(Object(Z.b)(this)).subscribe(t=>{this.store.dispatch(Object(Y.e)({tooltipsShown:t}))}),this.showEquityControl.valueChanges.pipe(Object(Z.b)(this)).subscribe(t=>{this.store.dispatch(Object(Y.e)({equityShown:t}))}),this.showSnackbarsControl.valueChanges.pipe(Object(Z.b)(this)).subscribe(t=>{this.store.dispatch(Object(Y.e)({snackbars:t}))})}setTradingUnits(t){this.store.dispatch(Object(Y.D)({trading:t}))}setWalletUnits(t){this.store.dispatch(Object(Y.D)({wallet:t}))}};return t.\u0275fac=function(e){return new(e||t)(a.Ob(K.b),a.Ob(s.d))},t.\u0275cmp=a.Ib({type:t,selectors:[["interface-management"]],decls:18,vars:15,consts:[["subheading",""],["body","",3,"formControl"],["subheading","","translate",""],["body","","translate",""]],template:function(t,e){1&t&&(a.Ub(0,"section"),a.Ub(1,"h2",0),a.Qc(2),a.gc(3,"translate"),a.Tb(),a.Ub(4,"mat-checkbox",1),a.Qc(5),a.gc(6,"translate"),a.Tb(),a.Ub(7,"mat-checkbox",1),a.Qc(8),a.gc(9,"translate"),a.Tb(),a.Tb(),a.Ub(10,"section"),a.Ub(11,"h2",2),a.Qc(12,"HEADING.SNACKBAR_ALERTS"),a.Tb(),a.Ub(13,"p",3),a.Qc(14,"SETTINGS.SNACKBAR_ALERTS.DESCRIPTION"),a.Tb(),a.Ub(15,"mat-checkbox",1),a.Qc(16),a.gc(17,"translate"),a.Tb(),a.Tb()),2&t&&(a.Cb(2),a.Rc(a.hc(3,7,"SETTINGS.INTERFACE.HEADING")),a.Cb(2),a.mc("formControl",e.showTooltipsControl),a.Cb(1),a.Sc(" ",a.hc(6,9,"FORM.DISPLAY_NOOBTIPS")," "),a.Cb(2),a.mc("formControl",e.showEquityControl),a.Cb(1),a.Sc(" ",a.hc(9,11,"FORM.DISPLAY_ESTIMATES")," "),a.Cb(7),a.mc("formControl",e.showSnackbarsControl),a.Cb(1),a.Sc(" ",a.hc(17,13,"FORM.DISPLAY_SNACKBAR_ALERTS")," "))},directives:[tt.a,Lt.a,g.a,s.o,s.f,p.a],pipes:[p.d],styles:["[_nghost-%COMP%]{display:block;padding:var(--spacing)}section[_ngcontent-%COMP%]:not(:first-of-type){margin-top:var(--spacing)}h2[_ngcontent-%COMP%]{margin-bottom:var(--spacing-s)}.explain[_ngcontent-%COMP%]{margin-bottom:var(--spacing);line-height:1.4}"],changeDetection:0}),t=Object(X.d)([Object(Z.a)()],t),t})();var ve=n("QQZH"),Ee=n("8lHc"),Ie=n("YtkY"),Ue=n("8j5Y"),Pe=n("B8NW"),Ae=n("lx5p");function we(t,e){if(1&t){const t=a.Vb();a.Ub(0,"div",4),a.Ub(1,"p",5),a.Qc(2,"MOBILE_TOKEN.INFO"),a.Tb(),a.Ub(3,"button",6),a.bc("click",(function(){return a.Ec(t),a.fc().mobileTokenRequest$.emit()})),a.Qc(4),a.gc(5,"translate"),a.Tb(),a.Tb()}2&t&&(a.Cb(4),a.Sc(" ",a.hc(5,1,"BUTTON.REQUEST_MOBILE_TOKEN")," "))}function ye(t,e){if(1&t&&(a.Pb(0,"qrcode",14),a.gc(1,"json")),2&t){const t=a.fc(2);a.mc("qrdata",a.hc(1,3,t.mobileQRCode[0]))("size",225)("level","M")}}const Me=function(t){return{seconds:t}};function Ne(t,e){if(1&t&&(a.Ub(0,"p",8),a.Qc(1),a.gc(2,"translate"),a.gc(3,"translate"),a.gc(4,"async"),a.Tb()),2&t){const t=a.fc(2);a.Cb(1),a.Tc(" ",a.hc(2,2,"LABEL.TIME_LEFT"),": ",a.ic(3,4,"UNIT.X_SECONDS",a.rc(9,Me,a.hc(4,7,t.tokenTimer$)))," ")}}function Re(t,e){if(1&t){const t=a.Vb();a.Sb(0),a.Ub(1,"p",5),a.Qc(2,"LABEL.QR_CODE"),a.Tb(),a.Oc(3,ye,2,5,"qrcode",7),a.Ub(4,"p",8),a.Qc(5),a.gc(6,"translate"),a.Tb(),a.Ub(7,"form",9),a.bc("ngSubmit",(function(){return a.Ec(t),a.fc().submitForm()})),a.Ub(8,"p",5),a.Qc(9,"SESSION_MANAGEMENT.CONFIRMATION_CODE"),a.Tb(),a.Oc(10,Ne,5,11,"p",10),a.Ub(11,"mat-form-field",11),a.Ub(12,"mat-label"),a.Qc(13),a.gc(14,"translate"),a.Tb(),a.Pb(15,"input",12),a.Tb(),a.Ub(16,"button",13),a.Qc(17),a.gc(18,"translate"),a.Tb(),a.Tb(),a.Rb()}if(2&t){const t=a.fc();a.Cb(3),a.mc("ngIf",t.mobileQRCode),a.Cb(2),a.Rc(a.hc(6,7,"LABEL.ACTIVE_FOR")),a.Cb(2),a.mc("formGroup",t.form),a.Cb(3),a.mc("ngIf",t.mobileQRCode),a.Cb(3),a.Rc(a.hc(14,9,"FORM.CONFIRMATION_CODE")),a.Cb(3),a.mc("disabled",t.form.invalid),a.Cb(1),a.Sc(" ",a.hc(18,11,"BUTTON.SUBMIT")," ")}}function De(t,e){1&t&&(a.Ub(0,"div",15),a.Ub(1,"p",16),a.Qc(2,"SETTINGS.SESSION_MANAGEMENT.GOOGLE_AUTH_REQ"),a.Tb(),a.Tb())}const ke={minutes:2};let Le=(()=>{class t{constructor(t){this.fb=t,this.form=this.buildForm(),this.step$=new Yt.a("waiting"),this.restartTimer$=new ve.a(1),this.tokenTimer$=this.restartTimer$.pipe(Object(zt.a)(t=>Object(Ee.a)(0,1e3).pipe(Object(Ie.a)(()=>t.plus(ke).diffNow().as("seconds")),Object(Ue.a)(t=>{t<0&&this.step$.next("waiting")}),Object(Pe.a)(Object(Ae.h)(0)),Object(Ie.a)(Math.floor)))),this.mobileTokenRequest$=new a.o,this.mobileTokenConfirm$=new a.o}ngOnInit(){this.mfaActive||this.isSsoUser||this.step$.next("no-mfa")}ngOnChanges(t){var e,n;const c=null===(e=t.mobileQRCode)||void 0===e?void 0:e.previousValue,i=null===(n=t.mobileQRCode)||void 0===n?void 0:n.currentValue;i&&i[1].plus(ke).diffNow().as("seconds")>0&&(this.restartTimer$.next(i[1]),this.step$.next("scanning")),c&&void 0===i&&this.step$.next("waiting")}buildForm(){return this.fb.group({confirmationCode:["",s.x.required]})}submitForm(){var t;const{confirmationCode:e}=this.form.value,n=Object.assign(Object.assign({},null===(t=this.mobileQRCode)||void 0===t?void 0:t[0]),{confirmationCode:e});this.mobileTokenConfirm$.emit(n),this.form.reset()}}return t.\u0275fac=function(e){return new(e||t)(a.Ob(s.d))},t.\u0275cmp=a.Ib({type:t,selectors:[["mobile-token"]],inputs:{mobileQRCode:"mobileQRCode",mfaActive:"mfaActive",isSsoUser:"isSsoUser"},outputs:{mobileTokenRequest$:"mobileTokenRequest",mobileTokenConfirm$:"mobileTokenConfirm"},features:[a.Ab],decls:5,vars:6,consts:[[3,"ngSwitch"],["class","info",4,"ngSwitchCase"],[4,"ngSwitchCase"],["class","warning",4,"ngSwitchCase"],[1,"info"],["subheading","","translate",""],["mat-raised-button","",3,"click"],["class","qr-code",3,"qrdata","size","level",4,"ngIf"],["subheading",""],["body","",1,"form",3,"formGroup","ngSubmit"],["subheading","",4,"ngIf"],["color","accent","appearance","fill"],["matInput","","formControlName","confirmationCode","required","","maxlength","6","autocomplete","off"],["mat-raised-button","",3,"disabled"],[1,"qr-code",3,"qrdata","size","level"],[1,"warning"],["body","","translate",""]],template:function(t,e){1&t&&(a.Sb(0,0),a.gc(1,"async"),a.Oc(2,we,6,3,"div",1),a.Oc(3,Re,19,13,"ng-container",2),a.Oc(4,De,3,0,"div",3),a.Rb()),2&t&&(a.mc("ngSwitch",a.hc(1,4,e.step$)),a.Cb(2),a.mc("ngSwitchCase","waiting"),a.Cb(1),a.mc("ngSwitchCase","scanning"),a.Cb(1),a.mc("ngSwitchCase","no-mfa"))},directives:[h.p,h.q,tt.a,p.a,T.b,h.n,s.z,s.p,g.a,s.h,u.c,u.f,Nt.b,s.c,s.o,s.g,s.v,s.k,jt.a],pipes:[h.b,p.d,h.h],styles:["[_nghost-%COMP%]{display:block}.info[_ngcontent-%COMP%], [_nghost-%COMP%]{padding:var(--spacing)}.info[_ngcontent-%COMP%]{text-align:center}.info[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{margin-top:var(--spacing-l);width:100%}.form[_ngcontent-%COMP%]{margin-top:var(--spacing);line-height:1.4}.form[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:100%;margin-top:var(--spacing)}.form[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{width:100%}.warning[_ngcontent-%COMP%]{padding:var(--spacing);margin:var(--spacing) 0;border:solid var(--warn-colour);text-align:center}.qr-code[_ngcontent-%COMP%]{box-sizing:content-box;display:block;margin-top:var(--spacing);margin-bottom:var(--spacing);width:225px}"],changeDetection:0}),t})(),xe=(()=>{class t{constructor(t){this.store=t,this.activeSessions$=this.store.pipe(Object(K.m)(V.i)),this.tokenLifespan$=this.store.pipe(Object(K.m)(V.j)),this.activeMfa$=this.store.pipe(Object(K.m)(V.d)),this.mfaActive$=this.store.pipe(Object(K.m)(V.a)),this.isSsoUser$=this.store.pipe(Object(K.m)(z.l)),this.mobileQRCode$=this.store.pipe(Object(K.m)(V.g),Object(Ie.a)(t=>t.orUndefined()))}deleteSession(t){this.store.dispatch(Object(At.k)({uid:t}))}changePreferredLifespan(t){this.store.dispatch(Object(At.e)({lifespan:t}))}requestMobileToken(){const t=Object(At.s)({});this.store.dispatch(Object(q.g)({name:"mfa-confirm",inputs:{action:t}}))}confirmMobileCode(t){this.store.dispatch(Object(At.h)(t)),this.tabs.selectedIndex=0}}return t.\u0275fac=function(e){return new(e||t)(a.Ob(K.b))},t.\u0275cmp=a.Ib({type:t,selectors:[["session-management"]],viewQuery:function(t,e){var n;1&t&&a.Jc(W.c,!0),2&t&&a.zc(n=a.cc())&&(e.tabs=n.first)},decls:13,vars:21,consts:[["tabs",""],[3,"label"],[3,"tokenLifespan","activeSessions","changePreferredLifespan","deleteSession"],[3,"mfaActive","isSsoUser","mobileQRCode","mobileTokenRequest","mobileTokenConfirm"]],template:function(t,e){1&t&&(a.Ub(0,"mat-tab-group",null,0),a.Ub(2,"mat-tab",1),a.gc(3,"translate"),a.Ub(4,"active-sessions",2),a.bc("changePreferredLifespan",(function(t){return e.changePreferredLifespan(t)}))("deleteSession",(function(t){return e.deleteSession(t)})),a.gc(5,"async"),a.gc(6,"async"),a.Tb(),a.Tb(),a.Ub(7,"mat-tab",1),a.gc(8,"translate"),a.Ub(9,"mobile-token",3),a.bc("mobileTokenRequest",(function(){return e.requestMobileToken()}))("mobileTokenConfirm",(function(t){return e.confirmMobileCode(t)})),a.gc(10,"async"),a.gc(11,"async"),a.gc(12,"async"),a.Tb(),a.Tb(),a.Tb()),2&t&&(a.Cb(2),a.mc("label",a.hc(3,7,"LABEL.ACTIVE_SESSIONS")),a.Cb(2),a.mc("tokenLifespan",a.hc(5,9,e.tokenLifespan$))("activeSessions",a.hc(6,11,e.activeSessions$)),a.Cb(3),a.mc("label",a.hc(8,13,"LABEL.MOBILE_TOKEN")),a.Cb(2),a.mc("mfaActive",a.hc(10,15,e.mfaActive$))("isSsoUser",a.hc(11,17,e.isSsoUser$))("mobileQRCode",a.hc(12,19,e.mobileQRCode$)))},directives:[W.c,W.a,J.a,F,Le],pipes:[p.d,h.b],styles:[""],changeDetection:0}),t})();var Qe=n("bjK4"),Ge=n("lE9u"),$e=n("icqo"),je=n("aaFr"),He=n("F6wS"),Fe=n("h2+Y"),Ke=n("ROO/");function Be(t,e){if(1&t&&(a.Ub(0,"div",9),a.Pb(1,"fa-icon",10),a.Ub(2,"span",11),a.Qc(3),a.gc(4,"translate"),a.Tb(),a.Tb()),2&t){const t=e.$implicit,n=a.fc();a.Gb("settings__desktop-nav-item--active",n.routerLink===t.link),a.mc("routerLink",t.link),a.Cb(1),a.mc("icon",t.icon),a.Cb(2),a.Rc(a.hc(4,5,t.name))}}function qe(t,e){if(1&t&&(a.Ub(0,"button",12),a.Qc(1),a.gc(2,"translate"),a.Tb()),2&t){const t=e.$implicit;a.mc("routerLink",t.link),a.Cb(1),a.Sc(" ",a.hc(2,2,t.name)," ")}}const Ye=[At.d.type,At.e.type,Y.f.type,Y.h.type,Y.j.type,Y.w.type,At.k.type,At.r.type,At.j.type,At.b.type,At.s.type,At.h.type,Ge.d.type];let Ve=(()=>{class t{constructor(t,e,n){this.store=t,this.router=e,this.feature=n,this.loading$=this.store.pipe(Object(K.m)(Qe.m,{filter:Ye})),this.userDetails$=this.store.pipe(Object(K.m)(z.d)),this.settingsNavigation=[{name:"HEADING.INTERFACE_SETTINGS_SHORT",icon:"workspace",link:"/settings/interface"},{name:"HEADING.SESSIONS_SETTINGS_SHORT",icon:"user-group",link:"/settings/sessions"},{name:"HEADING.API_KEYS_SETTINGS_SHORT",icon:"key",link:"/settings/api"},{name:"HEADING.EMAIL_ALERTS_SETTINGS_SHORT",icon:"email",link:"/settings/email-alerts"}]}ngOnInit(){this.userDetails$.pipe(Object(Se.h)()).subscribe(t=>{t.external||this.settingsNavigation.splice(1,0,{name:"HEADING.AUTHENTICATION_SETTINGS_SHORT",icon:"security-key",link:"/settings/authentication"}),(t.external||"sgb_platform"===t.platformName)&&this.feature.isEnabled("transferDestination")&&(this.settingsNavigation.push({name:"Inbound Transfers",icon:"deposit",link:"/settings/transfers"}),this.store.dispatch(Object(Ge.h)())),"mtf"===t.platformName&&(this.store.dispatch(Object(Y.m)()),this.settingsNavigation.push({name:"HEADING.ALGOS_SETTINGS",icon:"chart-candlestick",link:"/settings/algos"}))}),this.store.dispatch(Object(q.x)("NAV.SETTINGS")),this.store.dispatch(Object(At.f)({firstCheck:!0})),this.store.dispatch(Object(Y.o)()),this.store.dispatch(Object(At.o)()),this.store.dispatch(Object(At.p)()),this.store.dispatch(Object(Y.q)()),this.store.dispatch(Object(At.n)())}get routerLink(){return this.router.url}get navPage(){return this.settingsNavigation.find(t=>t.link===this.router.url).name}navSettings(t){this.router.navigate([t])}}return t.\u0275fac=function(e){return new(e||t)(a.Ob(K.b),a.Ob(c.d),a.Ob(wt.a))},t.\u0275cmp=a.Ib({type:t,selectors:[["settings"]],decls:16,vars:10,consts:[[1,"settings"],[1,"settings__desktop-nav"],["class","settings__desktop-nav-item global__selectable",3,"routerLink","settings__desktop-nav-item--active",4,"ngFor","ngForOf"],[1,"settings__handset-nav"],["mat-raised-button","",3,"sbMenuTriggerFor"],["icon","arrow-small-down","size","lg"],["settingsMenu","sbMenu"],["sb-menu-item","",3,"routerLink",4,"ngFor","ngForOf"],["mode","indeterminate"],[1,"settings__desktop-nav-item","global__selectable",3,"routerLink"],["size","lg",3,"icon"],[1,"global__text"],["sb-menu-item","",3,"routerLink"]],template:function(t,e){if(1&t&&(a.Ub(0,"section",0),a.Ub(1,"section",1),a.Oc(2,Be,5,7,"div",2),a.Tb(),a.Ub(3,"section",3),a.Ub(4,"button",4),a.Qc(5),a.gc(6,"translate"),a.Pb(7,"fa-icon",5),a.Tb(),a.Ub(8,"sb-menu",null,6),a.Oc(10,qe,3,4,"button",7),a.Tb(),a.Tb(),a.Ub(11,"mat-card"),a.Pb(12,"mat-progress-bar",8),a.gc(13,"async"),a.Ub(14,"mat-card-content"),a.Pb(15,"router-outlet"),a.Tb(),a.Tb(),a.Tb()),2&t){const t=a.Ac(9);a.Cb(2),a.mc("ngForOf",e.settingsNavigation),a.Cb(2),a.mc("sbMenuTriggerFor",t),a.Cb(1),a.Sc(" ",a.hc(6,6,e.navPage),""),a.Cb(5),a.mc("ngForOf",e.settingsNavigation),a.Cb(2),a.Lc("opacity",a.hc(13,8,e.loading$)?1:0)}},directives:[h.m,T.b,$e.b,O.b,je.a,He.a,Fe.a,He.b,c.i,c.e,Ke.a],pipes:[p.d,h.b],styles:[".settings[_ngcontent-%COMP%]{display:flex;width:1000px;height:100%;margin:0 auto}.settings[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{border:1px solid var(--border-colour)}@media (max-width:1024px){.settings[_ngcontent-%COMP%]{flex-direction:column;margin:0;width:100%}}.settings[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-self:flex-start;max-height:100%;height:auto}.settings[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{border-bottom:1px solid var(--border-colour)}.settings[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{overflow:auto}@media (max-width:1024px){.settings[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{flex-direction:column}}.settings__desktop-nav[_ngcontent-%COMP%]{align-self:flex-start;background-color:var(--card-colour);border:1px solid var(--border-colour);border-left:0;margin-right:var(--spacing-l)}@media (max-width:1024px){.settings__desktop-nav[_ngcontent-%COMP%]{display:none!important}}.settings__desktop-nav-item[_ngcontent-%COMP%]{align-items:center;border-left:solid var(--border-colour) var(--spacing-s);cursor:pointer;display:flex;padding:var(--spacing);width:250px}.settings__desktop-nav-item[_ngcontent-%COMP%]:not(:last-of-type){border-bottom:1px solid var(--border-colour)}.settings__desktop-nav-item[_ngcontent-%COMP%]:focus{outline:0!important}.settings__desktop-nav-item[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{color:var(--text-colour);margin-right:var(--spacing)}.settings__desktop-nav-item--active[_ngcontent-%COMP%]{border-left:solid var(--brand) var(--spacing-s)}@media (max-width:599px){.settings__desktop-nav-item--active[_ngcontent-%COMP%]{border-right:none}}.settings__desktop-nav-item--active[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{color:var(--brand)!important}.settings__handset-nav[_ngcontent-%COMP%]{display:none!important;margin-bottom:var(--spacing)}.settings__handset-nav[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%}@media (max-width:1024px){.settings__handset-nav[_ngcontent-%COMP%]{display:flex!important}}.settings__content[_ngcontent-%COMP%]{flex:1}"],changeDetection:0}),t})();var ze=n("i2L+"),We=n("DTJn");function Je(t,e){if(1&t){const t=a.Vb();a.Ub(0,"sb-table-row"),a.Ub(1,"sb-table-cell",13),a.Pb(2,"fa-icon",14),a.Qc(3," \xa0 "),a.Ub(4,"span"),a.Qc(5),a.gc(6,"truncate"),a.Tb(),a.Tb(),a.Ub(7,"sb-table-cell",15),a.Qc(8),a.gc(9,"date"),a.Tb(),a.Ub(10,"sb-table-cell",16),a.Qc(11),a.Tb(),a.Ub(12,"sb-table-cell",17),a.Ub(13,"button",18),a.bc("click",(function(){a.Ec(t);const n=e.$implicit;return a.fc(3).signAlgo(n)})),a.Pb(14,"fa-icon",19),a.Ub(15,"span",20),a.Qc(16),a.gc(17,"translate"),a.Tb(),a.Tb(),a.Tb(),a.Tb()}if(2&t){const t=e.$implicit;a.Cb(2),a.Lc("color","var(--icon-colour)"),a.mc("clipboard",t.algoId),a.Cb(3),a.Sc("",a.ic(6,9,t.algoId,10),"..."),a.Cb(3),a.Rc(a.ic(9,12,t.lastSign||t.created,"dd/MMM/yyyy HH:mm:ss")),a.Cb(3),a.Rc(t.label||"-"),a.Cb(3),a.Lc("margin-right","var(--spacing)"),a.Cb(2),a.Rc(a.hc(17,15,"BUTTON.RECERTIFY_ALGO"))}}function Xe(t,e){if(1&t&&(a.Ub(0,"sb-table"),a.Ub(1,"sb-table-row",8),a.Ub(2,"sb-table-cell",9),a.Qc(3),a.gc(4,"translate"),a.Tb(),a.Ub(5,"sb-table-cell",9),a.Qc(6),a.gc(7,"translate"),a.Tb(),a.Ub(8,"sb-table-cell",10),a.Qc(9),a.gc(10,"translate"),a.Tb(),a.Pb(11,"sb-table-cell",11),a.Tb(),a.Oc(12,Je,18,17,"sb-table-row",12),a.Tb()),2&t){const t=a.fc().ngIf;a.Cb(1),a.mc("header",!0),a.Cb(2),a.Sc(" ",a.hc(4,5,"COLUMN.ALGO_ID")," "),a.Cb(3),a.Sc(" ",a.hc(7,7,"COLUMN.CREATED_LAST_SIGN")," "),a.Cb(3),a.Sc(" ",a.hc(10,9,"COLUMN.LABEL")," "),a.Cb(3),a.mc("ngForOf",t)}}function Ze(t,e){if(1&t&&(a.Ub(0,"section",6),a.Oc(1,Xe,13,11,"sb-table",7),a.Tb()),2&t){const t=e.ngIf;a.Lc("margin-bottom",t.length?"var(--spacing-xl)":0)("margin-top",t.length?"var(--spacing-xl)":0),a.Cb(1),a.mc("ngIf",t.length)}}let tn=(()=>{class t{constructor(t){this.store=t,this.algos$=this.store.pipe(Object(K.m)(z.b))}signAlgo(t){this.store.dispatch(Object(q.g)({name:"recertify-algo",inputs:{algo:t}}))}createAlgo(){this.store.dispatch(Object(q.g)({name:"create-algo"}))}}return t.\u0275fac=function(e){return new(e||t)(a.Ob(K.b))},t.\u0275cmp=a.Ib({type:t,selectors:[["algos"]],decls:11,vars:6,consts:[[1,"algos"],[1,"heading"],["subheading","","translate",""],["body","","translate",""],["class","table",3,"marginBottom","marginTop",4,"ngIf"],["mat-raised-button","","body","",3,"click"],[1,"table"],[4,"ngIf"],[3,"header"],["whiteSpace","nowrap"],["whiteSpace","nowrap",1,"hidden-mobile"],["align","right"],[4,"ngFor","ngForOf"],["body","","whiteSpace","nowrap"],["icon","copy","size","lg","sbTooltip","TOOLTIP.COPY_TO_CLIPBOARD","sbDelay","400","clipboardSuccessMsg","SNACKBAR.ALGOID_COPIED",3,"clipboard"],["body",""],["body","",1,"hidden-mobile"],["body","","align","right"],["mat-raised-button","","body","",1,"mat-small-button",3,"click"],["icon","edit"],[1,"hidden-mobile"]],template:function(t,e){1&t&&(a.Ub(0,"section",0),a.Ub(1,"section",1),a.Ub(2,"h2",2),a.Qc(3,"HEADING.ALGOIDS"),a.Tb(),a.Ub(4,"p",3),a.Qc(5,"ALGOIDS.DESCRIPTION"),a.Tb(),a.Tb(),a.Oc(6,Ze,2,5,"section",4),a.gc(7,"async"),a.Ub(8,"button",5),a.bc("click",(function(){return e.createAlgo()})),a.Qc(9),a.gc(10,"translate"),a.Tb(),a.Tb()),2&t&&(a.Cb(6),a.mc("ngIf",a.hc(7,2,e.algos$)),a.Cb(3),a.Sc(" ",a.hc(10,4,"BUTTON.CREATE_ALGOID")," "))},directives:[tt.a,p.a,g.a,h.n,T.b,We.b,We.c,We.a,h.m,O.b,S.a,st.a,C.a],pipes:[h.b,p.d,rt.a,h.e],styles:[".algos[_ngcontent-%COMP%]{padding:var(--spacing)}.algos[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:var(--spacing)}.algos[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{cursor:pointer}.heading[_ngcontent-%COMP%]{margin-bottom:var(--spacing)}@media (max-width:1024px){.hidden-mobile[_ngcontent-%COMP%]{display:none}}"],changeDetection:0}),t})();var en=n("lruz"),nn=n("6D9M");const cn=[ze.a,c.h.forChild([{path:"",component:Ve,children:[{path:"interface",component:_e},{path:"authentication",component:Ce,canActivate:[o.a]},{path:"transfers",component:(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=a.Ib({type:t,selectors:[["transfer-settings"]],decls:4,vars:0,consts:[["subheading",""]],template:function(t,e){1&t&&(a.Ub(0,"section"),a.Ub(1,"p",0),a.Qc(2,"Inbound Transfer Preference"),a.Tb(),a.Pb(3,"transfer-preference"),a.Tb())},directives:[tt.a,nn.a],styles:["section[_ngcontent-%COMP%]{padding:var(--spacing)}"],changeDetection:0}),t})(),canActivate:[en.a],data:{feature:"transferDestination"}},{path:"sessions",component:xe},{path:"api",component:Pt},{path:"email-alerts",component:Oe},{path:"algos",component:tn,canActivate:[i.a],data:{platform:"mtf"}},{path:"**",redirectTo:"sessions"}]}]),kt.b.forChild()];let on=(()=>{class t{}return t.\u0275mod=a.Mb({type:t}),t.\u0275inj=a.Lb({factory:function(e){return new(e||t)},imports:[cn]}),t})()},Jygx:function(t,e){function n(t){this.message=t}(n.prototype=new Error).name="InvalidCharacterError",t.exports="undefined"!=typeof window&&window.atob&&window.atob.bind(window)||function(t){var e=String(t).replace(/=+$/,"");if(e.length%4==1)throw new n("'atob' failed: The string to be decoded is not correctly encoded.");for(var c,i,o=0,a=0,s="";i=e.charAt(a++);~i&&(c=o%4?64*c+i:i,o++%4)?s+=String.fromCharCode(255&c>>(-2*o&6)):0)i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(i);return s}},WSu0:function(t,e,n){"use strict";var c=n("aY38");function i(t){this.message=t}(i.prototype=new Error).name="InvalidTokenError",t.exports=function(t,e){if("string"!=typeof t)throw new i("Invalid token specified");var n=!0===(e=e||{}).header?0:1;try{return JSON.parse(c(t.split(".")[n]))}catch(o){throw new i("Invalid token specified: "+o.message)}},t.exports.InvalidTokenError=i},aY38:function(t,e,n){var c=n("Jygx");t.exports=function(t){var e=t.replace(/-/g,"+").replace(/_/g,"/");switch(e.length%4){case 0:break;case 2:e+="==";break;case 3:e+="=";break;default:throw"Illegal base64url string!"}try{return function(t){return decodeURIComponent(c(t).replace(/(.)/g,(function(t,e){var n=e.charCodeAt(0).toString(16).toUpperCase();return n.length<2&&(n="0"+n),"%"+n})))}(e)}catch(n){return c(e)}}}}]);