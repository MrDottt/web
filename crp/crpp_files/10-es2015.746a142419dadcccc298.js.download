(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{"9u+z":function(t,e,c){"use strict";c.r(e),c.d(e,"HistoryModule",(function(){return yc}));var n=c("1VvW"),a=c("i2L+"),o=c("D57K"),i=c("sq1e"),r=c("i67J"),s=c("gxtV"),b=c("zqNl"),l=c("uJYd"),d=c("1OAy"),g=c("lE9u"),m=c("sXtk"),f=c("MT7k"),p=c("rxqU"),u=c("kZht"),h=c("2Xgx"),C=c("rEzU"),O=c("An66"),T=c("hCLc"),_=c("icqo"),U=c("NxuZ"),w=c("aaFr"),M=c("ROO/"),y=c("EZWv"),S=c("O30t"),P=c("KQpv"),D=c.n(P),v=c("lx5p"),x=c("mlVJ"),R=c("LoUP"),I=c("anSm"),Q=c("chaP"),L=c("za3o"),k=c("LbKT"),N=c("+I9z"),E=c("B6Vo"),A=c("VbQ3"),F=c("EmXI"),$=c("Tcl6"),H=c("aDqW"),B=c("7J2L"),z=c("fvDn"),W=c("DpwM");function j(t,e){1&t&&u.Pb(0,"tr",31)}function V(t,e){if(1&t&&u.Pb(0,"tr",32),2&t){const t=e.$implicit,c=u.fc(3);u.Lc("background-color",c.rowBackground(t))}}function Y(t,e){1&t&&(u.Ub(0,"th",33),u.Qc(1),u.gc(2,"translate"),u.Tb()),2&t&&(u.Cb(1),u.Rc(u.hc(2,1,"COLUMN.DATE")))}function G(t,e){if(1&t&&(u.Ub(0,"td",34),u.Qc(1),u.gc(2,"date"),u.Tb()),2&t){const t=e.$implicit;u.Cb(1),u.Sc(" ",u.ic(2,1,t.date,"dd/MMM/yyyy HH:mm:ss")," ")}}function J(t,e){1&t&&(u.Ub(0,"th",33),u.Qc(1),u.gc(2,"translate"),u.Tb()),2&t&&(u.Cb(1),u.Rc(u.hc(2,1,"COLUMN.ACCOUNT")))}function q(t,e){if(1&t&&(u.Ub(0,"td",35),u.Qc(1),u.gc(2,"cryptoAbbreviation"),u.Tb()),2&t){const t=e.$implicit;u.Cb(1),u.Sc(" ",u.hc(2,1,t.margin_account)," ")}}function X(t,e){1&t&&(u.Ub(0,"th",33),u.Qc(1,"Contract"),u.Tb())}function K(t,e){if(1&t&&(u.Ub(0,"td",35),u.Qc(1),u.gc(2,"uppercase"),u.Tb()),2&t){const t=e.$implicit;u.Cb(1),u.Sc(" ",u.hc(2,1,t.contract)," ")}}function Z(t,e){1&t&&(u.Ub(0,"th",33),u.Qc(1),u.gc(2,"translate"),u.Tb()),2&t&&(u.Cb(1),u.Rc(u.hc(2,1,"COLUMN.TYPE")))}function tt(t,e){if(1&t&&(u.Ub(0,"td",36),u.Qc(1),u.Tb()),2&t){const t=e.$implicit;u.Cb(1),u.Sc(" ",t.info," ")}}function et(t,e){1&t&&(u.Ub(0,"th",33),u.Qc(1),u.gc(2,"translate"),u.Tb()),2&t&&(u.Cb(1),u.Rc(u.hc(2,1,"COLUMN.SYMBOL")))}function ct(t,e){if(1&t&&(u.Ub(0,"td",35),u.Qc(1),u.gc(2,"cryptoAbbreviation"),u.Tb()),2&t){const t=e.$implicit;u.Cb(1),u.Sc(" ",u.hc(2,1,t.asset)," ")}}function nt(t,e){1&t&&(u.Ub(0,"th",33),u.Qc(1),u.gc(2,"translate"),u.Tb()),2&t&&(u.Cb(1),u.Rc(u.hc(2,1,"COLUMN.CHANGE")))}function at(t,e){if(1&t&&(u.Ub(0,"td",34),u.Ub(1,"span",37),u.Pb(2,"ghost-trail",38),u.gc(3,"sato"),u.Tb(),u.Tb()),2&t){const t=e.$implicit;u.Cb(1),u.mc("pnl",t.new_balance-t.old_balance),u.Cb(1),u.mc("content",u.jc(3,2,t.new_balance-t.old_balance,t.balanceFormat,"full"))}}function ot(t,e){1&t&&(u.Ub(0,"th",33),u.Qc(1),u.gc(2,"translate"),u.Tb()),2&t&&(u.Cb(1),u.Rc(u.hc(2,1,"COLUMN.NEW_BALANCE")))}function it(t,e){if(1&t&&(u.Ub(0,"td",34),u.Ub(1,"span",37),u.Pb(2,"ghost-trail",38),u.gc(3,"sato"),u.Tb(),u.Tb()),2&t){const t=e.$implicit;u.Cb(1),u.mc("pnl",t.new_balance),u.Cb(1),u.mc("content",u.jc(3,2,t.new_balance,t.balanceFormat,"full"))}}function rt(t,e){1&t&&(u.Ub(0,"th",33),u.Qc(1),u.gc(2,"translate"),u.Tb()),2&t&&(u.Cb(1),u.Rc(u.hc(2,1,"COLUMN.AVG_ENTRY_PRICE")))}function st(t,e){if(1&t&&(u.Ub(0,"td",34),u.Pb(1,"ghost-trail",38),u.gc(2,"sato"),u.Tb()),2&t){const t=e.$implicit,c=u.fc(3);u.Cb(1),u.mc("content",c.isMargin(t.asset)?u.ic(2,1,t.new_average_entry_price,t.market):"-")}}function bt(t,e){1&t&&(u.Ub(0,"th",33),u.Qc(1),u.gc(2,"translate"),u.Tb()),2&t&&(u.Cb(1),u.Rc(u.hc(2,1,"COLUMN.TRADE_PRICE")))}function lt(t,e){if(1&t&&(u.Ub(0,"td",34),u.Pb(1,"ghost-trail",38),u.gc(2,"sato"),u.Tb()),2&t){const t=e.$implicit,c=u.fc(3);u.Cb(1),u.mc("content",c.isMargin(t.asset)?u.ic(2,1,t.trade_price,t.market):"-")}}function dt(t,e){1&t&&(u.Ub(0,"th",33),u.Qc(1),u.gc(2,"translate"),u.Tb()),2&t&&(u.Cb(1),u.Rc(u.hc(2,1,"COLUMN.MARK_PRICE")))}function gt(t,e){if(1&t&&(u.Ub(0,"td",34),u.Pb(1,"ghost-trail",38),u.gc(2,"sato"),u.Tb()),2&t){const t=e.$implicit,c=u.fc(3);u.Cb(1),u.mc("content",c.isMargin(t.asset)?u.ic(2,1,t.mark_price,t.market):"-")}}function mt(t,e){1&t&&(u.Ub(0,"th",33),u.Qc(1),u.gc(2,"translate"),u.Tb()),2&t&&(u.Cb(1),u.Rc(u.hc(2,1,"COLUMN.REALIZED_PROFIT_LOSS")))}function ft(t,e){if(1&t&&(u.Ub(0,"td",34),u.Ub(1,"span",37),u.Pb(2,"ghost-trail",38),u.gc(3,"sato"),u.Tb(),u.Tb()),2&t){const t=e.$implicit,c=u.fc(3);u.Cb(1),u.mc("pnl",t.realized_pnl),u.Cb(1),u.mc("content",c.possibleChange(t.asset,t.info)?u.jc(3,2,t.realized_pnl,t.balanceFormat,"full"):"-")}}function pt(t,e){1&t&&(u.Ub(0,"th",33),u.Qc(1),u.gc(2,"translate"),u.Tb()),2&t&&(u.Cb(1),u.Rc(u.hc(2,1,"COLUMN.FEE")))}function ut(t,e){if(1&t&&(u.Ub(0,"td",39),u.Pb(1,"ghost-trail",38),u.gc(2,"sato"),u.Tb()),2&t){const t=e.$implicit,c=u.fc(3);u.mc("sbTooltip",t.fee),u.Cb(1),u.mc("content",c.possibleChange(t.asset,t.info)?u.jc(2,2,t.fee,t.balanceFormat,"full"):"-")}}function ht(t,e){1&t&&(u.Ub(0,"th",33),u.Qc(1),u.gc(2,"translate"),u.Tb()),2&t&&(u.Cb(1),u.Rc(u.hc(2,1,"COLUMN.COLLATERAL")))}function Ct(t,e){if(1&t&&(u.Ub(0,"td",35),u.Qc(1),u.gc(2,"cryptoAbbreviation"),u.Tb()),2&t){const t=e.$implicit;u.Cb(1),u.Sc(" ",u.hc(2,1,t.collateral||"-")," ")}}function Ot(t,e){if(1&t&&(u.Ub(0,"table",10),u.Oc(1,j,1,0,"tr",11),u.Oc(2,V,1,2,"tr",12),u.Sb(3,13),u.Oc(4,Y,3,3,"th",14),u.Oc(5,G,3,4,"td",15),u.Rb(),u.Sb(6,16),u.Oc(7,J,3,3,"th",14),u.Oc(8,q,3,3,"td",17),u.Rb(),u.Sb(9,18),u.Oc(10,X,2,0,"th",14),u.Oc(11,K,3,3,"td",17),u.Rb(),u.Sb(12,19),u.Oc(13,Z,3,3,"th",14),u.Oc(14,tt,2,1,"td",20),u.Rb(),u.Sb(15,21),u.Oc(16,et,3,3,"th",14),u.Oc(17,ct,3,3,"td",17),u.Rb(),u.Sb(18,22),u.Oc(19,nt,3,3,"th",14),u.Oc(20,at,4,6,"td",15),u.Rb(),u.Sb(21,23),u.Oc(22,ot,3,3,"th",14),u.Oc(23,it,4,6,"td",15),u.Rb(),u.Sb(24,24),u.Oc(25,rt,3,3,"th",14),u.Oc(26,st,3,4,"td",15),u.Rb(),u.Sb(27,25),u.Oc(28,bt,3,3,"th",14),u.Oc(29,lt,3,4,"td",15),u.Rb(),u.Sb(30,26),u.Oc(31,dt,3,3,"th",14),u.Oc(32,gt,3,4,"td",15),u.Rb(),u.Sb(33,27),u.Oc(34,mt,3,3,"th",14),u.Oc(35,ft,4,6,"td",15),u.Rb(),u.Sb(36,28),u.Oc(37,pt,3,3,"th",14),u.Oc(38,ut,3,6,"td",29),u.Rb(),u.Sb(39,30),u.Oc(40,ht,3,3,"th",14),u.Oc(41,Ct,3,3,"td",17),u.Rb(),u.Tb()),2&t){const t=u.fc(2);u.mc("dataSource",t.tableData)("trackBy",t.trackByLogId),u.Cb(1),u.mc("matHeaderRowDef",t.tableColumns)("matHeaderRowDefSticky",!0),u.Cb(1),u.mc("matRowDefColumns",t.tableColumns)}}function Tt(t,e){if(1&t&&(u.Ub(0,"div",8),u.Oc(1,Ot,42,5,"table",9),u.Tb()),2&t){const t=u.fc(),e=u.Ac(8);u.Cb(1),u.mc("ngIf",t.logs.length)("ngIfElse",e)}}const _t=function(t){return{$implicit:t}};function Ut(t,e){if(1&t&&u.Qb(0,43),2&t){const t=e.$implicit;u.fc(3);const c=u.Ac(6);u.mc("ngTemplateOutlet",c)("ngTemplateOutletContext",u.rc(2,_t,t))}}function wt(t,e){if(1&t&&(u.Sb(0),u.Oc(1,Ut,1,4,"ng-container",42),u.Rb()),2&t){const t=u.fc(2);u.Cb(1),u.mc("cdkVirtualForOf",t.logs)("cdkVirtualForTrackBy",t.trackByLogId)}}function Mt(t,e){if(1&t&&(u.Ub(0,"cdk-virtual-scroll-viewport",40),u.Oc(1,wt,2,2,"ng-container",41),u.Tb()),2&t){const t=u.fc(),e=u.Ac(8);u.mc("itemSize",253),u.Cb(1),u.mc("ngIf",t.logs.length)("ngIfElse",e)}}function yt(t,e){if(1&t){const t=u.Vb();u.Ub(0,"div",44),u.Ub(1,"mat-form-field",45),u.Ub(2,"mat-label"),u.Qc(3),u.gc(4,"translate"),u.Tb(),u.Ub(5,"input",46),u.bc("input",(function(e){return u.Ec(t),u.fc().applyTableFilter(e.target.value)})),u.Tb(),u.Pb(6,"fa-icon",47),u.Tb(),u.Ub(7,"a",48),u.Qc(8),u.gc(9,"translate"),u.Tb(),u.Tb()}if(2&t){const t=u.fc();u.Cb(3),u.Sc("",u.hc(4,3,"FORM.FILTER_BY_SYMBOL"),":"),u.Cb(4),u.mc("href",t.downloadUrl,u.Gc),u.Cb(1),u.Sc(" ",u.hc(9,5,"TOOLTIP.DOWNLOAD_ALL")," ")}}function St(t,e){if(1&t&&(u.Ub(0,"section",49),u.Ub(1,"section",50),u.Ub(2,"p",51),u.Qc(3),u.gc(4,"translate"),u.Tb(),u.Ub(5,"strong",51),u.Qc(6),u.gc(7,"date"),u.Tb(),u.Tb(),u.Ub(8,"section",50),u.Ub(9,"p",51),u.Qc(10),u.gc(11,"translate"),u.Tb(),u.Ub(12,"strong",51),u.Qc(13),u.gc(14,"cryptoAbbreviation"),u.Tb(),u.Tb(),u.Ub(15,"section",50),u.Ub(16,"p",51),u.Qc(17),u.gc(18,"translate"),u.Tb(),u.Ub(19,"strong",52),u.Qc(20),u.Tb(),u.Tb(),u.Ub(21,"section",50),u.Ub(22,"p",51),u.Qc(23),u.gc(24,"translate"),u.Tb(),u.Ub(25,"strong",51),u.Qc(26),u.gc(27,"cryptoAbbreviation"),u.Tb(),u.Tb(),u.Ub(28,"section",50),u.Ub(29,"p",51),u.Qc(30),u.gc(31,"translate"),u.Tb(),u.Ub(32,"strong",53),u.Qc(33),u.gc(34,"sato"),u.Tb(),u.Tb(),u.Ub(35,"section",50),u.Ub(36,"p",51),u.Qc(37),u.gc(38,"translate"),u.Tb(),u.Ub(39,"strong",53),u.Qc(40),u.gc(41,"sato"),u.Tb(),u.Tb(),u.Ub(42,"section",50),u.Ub(43,"p",51),u.Qc(44),u.gc(45,"translate"),u.Tb(),u.Ub(46,"strong",54),u.Qc(47),u.gc(48,"sato"),u.Tb(),u.Tb(),u.Ub(49,"section",50),u.Ub(50,"p",51),u.Qc(51),u.gc(52,"translate"),u.Tb(),u.Ub(53,"strong",54),u.Qc(54),u.gc(55,"sato"),u.Tb(),u.Tb(),u.Ub(56,"section",50),u.Ub(57,"p",51),u.Qc(58),u.gc(59,"translate"),u.Tb(),u.Ub(60,"strong",54),u.Qc(61),u.gc(62,"sato"),u.Tb(),u.Tb(),u.Ub(63,"section",50),u.Ub(64,"p",51),u.Qc(65),u.gc(66,"translate"),u.Tb(),u.Ub(67,"strong",53),u.Qc(68),u.gc(69,"sato"),u.Tb(),u.Tb(),u.Ub(70,"section",50),u.Ub(71,"p",51),u.Qc(72),u.gc(73,"translate"),u.Tb(),u.Ub(74,"strong",54),u.Qc(75),u.gc(76,"sato"),u.Tb(),u.Tb(),u.Tb()),2&t){const t=e.$implicit,c=u.fc();u.Cb(3),u.Sc("",u.hc(4,25,"COLUMN.DATE"),":"),u.Cb(3),u.Sc(" ",u.ic(7,27,t.date,"dd/MMM/yyyy HH:mm:ss")," "),u.Cb(4),u.Sc("",u.hc(11,30,"COLUMN.ACCOUNT"),":"),u.Cb(3),u.Sc(" ",u.hc(14,32,t.margin_account)," "),u.Cb(4),u.Sc("",u.hc(18,34,"COLUMN.TYPE"),":"),u.Cb(3),u.Rc(t.info),u.Cb(3),u.Sc("",u.hc(24,36,"COLUMN.SYMBOL"),":"),u.Cb(3),u.Rc(u.hc(27,38,t.asset)),u.Cb(4),u.Sc("",u.hc(31,40,"COLUMN.CHANGE"),":"),u.Cb(2),u.mc("pnl",t.new_balance-t.old_balance),u.Cb(1),u.Sc(" ",u.ic(34,42,t.new_balance-t.old_balance,t.market)," "),u.Cb(4),u.Sc("",u.hc(38,45,"COLUMN.NEW_BALANCE"),":"),u.Cb(2),u.mc("pnl",t.new_balance),u.Cb(1),u.Sc(" ",u.ic(41,47,t.new_balance,t.balanceFormat)," "),u.Cb(4),u.Sc("",u.hc(45,50,"COLUMN.AVG_ENTRY_PRICE"),":"),u.Cb(3),u.Sc(" ",c.isMargin(t.asset)?u.ic(48,52,t.new_average_entry_price,t.market):"-"," "),u.Cb(4),u.Sc("",u.hc(52,55,"COLUMN.TRADE_PRICE"),":"),u.Cb(3),u.Sc(" ",u.ic(55,57,t.trade_price,t.market)," "),u.Cb(4),u.Sc("",u.hc(59,60,"COLUMN.MARK_PRICE"),":"),u.Cb(3),u.Sc(" ",u.ic(62,62,t.mark_price,t.market)," "),u.Cb(4),u.Sc("",u.hc(66,65,"COLUMN.REALIZED_PROFIT_LOSS"),":"),u.Cb(2),u.mc("pnl",t.realized_pnl),u.Cb(1),u.Sc(" ",u.jc(69,67,t.realized_pnl,t.balanceFormat,"full")," "),u.Cb(4),u.Sc("",u.hc(73,71,"COLUMN.FEE"),":"),u.Cb(3),u.Sc(" ",u.jc(76,73,t.fee,t.balanceFormat,"full")," ")}}function Pt(t,e){1&t&&(u.Ub(0,"section",55),u.Ub(1,"p",56),u.Qc(2,"NO_CONTENT.LOGS"),u.Tb(),u.Tb())}function Dt(t,e){1&t&&u.Pb(0,"kraken-loading")}const vt=D()("app:logs"),xt=(t,e)=>t.asset.replace(x.b,"BTC").toLowerCase().includes(e.toLowerCase());let Rt=(()=>{class t{constructor(t){this.env=t,this.tableColumns=["date","margin_account","contract","info","asset","change","new_balance","new_average_entry_price","trade_price","mark_price","realized_pnl","fee","collateral"],this.tableData=new S.k([]),this.loadMore$=new u.o}ngOnInit(){this.paginator.pageSizeOptions=[25,50,100],this.paginator.pageSize=25,this.tableData.filterPredicate=xt}ngOnChanges(t){var e;(null===(e=t.logs)||void 0===e?void 0:e.currentValue)&&(this.tableData=new S.k(this.logs),this.tableData.paginator=this.paginator,this.tableData.filterPredicate=xt,25===this.logs.length&&this.fetchMoreLogs())}fetchMoreLogs(){vt("load next page, if needed");const t=this.logs.filter(t=>!["cross-exchange transfer","cross-exchange transfer failed"].includes(t.info)).reduce(Object(v.C)(Object(v.F)("id")),Math.pow(2,31));1!==t?(vt("fetch more logs",{start:t,limit:this.paginator.pageSize}),this.loadMore$.emit({beforeId:t,limit:this.paginator.pageSize})):vt("oldest log ID is 1; no more logs to get")}trackByLogId(t,e){return e.id}possibleChange(t,e){return!t.includes("_")&&(e.includes("trade")||e.includes("liquidation")||e.includes("assignor"))}isMargin(t){return t.includes("_")}get loaded(){return!!this.logs}handlePageEvent(t){const e=t.pageIndex>t.previousPageIndex,c=t.pageIndex===this.paginator.getNumberOfPages()-1,n=t.pageSize>50;vt("page event",{pageIncreased:e,lastPage:c,largePages:n,pageEvent:t}),(e&&c||n)&&this.fetchMoreLogs()}applyTableFilter(t){this.tableData.filter=t}get downloadUrl(){return this.env.urls.history+"/accountlogcsv"}rowBackground(t){return(null==t?void 0:t.executionGroup)%2==0?"var(--table-row-alt)":"var(--card-colour)"}}return t.\u0275fac=function(e){return new(e||t)(u.Ob(m.a))},t.\u0275cmp=u.Ib({type:t,selectors:[["logs"]],viewQuery:function(t,e){var c;1&t&&u.Jc(y.a,!0),2&t&&u.zc(c=u.cc())&&(e.paginator=c.first)},inputs:{logs:"logs"},outputs:{loadMore$:"loadMore"},features:[u.Ab],decls:11,vars:5,consts:[["class","table-wrapper",4,"ngIf","ngIfElse"],["class","scroll-viewport",3,"itemSize",4,"ngIf","ngIfElse"],["body","","class","buttons",4,"ngIf"],[1,"paginator"],["showFirstLastButtons","",3,"page"],["mobileCard",""],["noLogs",""],["loading",""],[1,"table-wrapper"],["mat-table","","matSort","",3,"dataSource","trackBy",4,"ngIf","ngIfElse"],["mat-table","","matSort","",3,"dataSource","trackBy"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",3,"backgroundColor",4,"matRowDef","matRowDefColumns"],["matColumnDef","date"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","","body","","mono","",4,"matCellDef"],["matColumnDef","margin_account"],["mat-cell","","body","",4,"matCellDef"],["matColumnDef","contract"],["matColumnDef","info"],["mat-cell","","body","","capitalize","",4,"matCellDef"],["matColumnDef","asset"],["matColumnDef","change"],["matColumnDef","new_balance"],["matColumnDef","new_average_entry_price"],["matColumnDef","trade_price"],["matColumnDef","mark_price"],["matColumnDef","realized_pnl"],["matColumnDef","fee"],["mat-cell","","body","","mono","",3,"sbTooltip",4,"matCellDef"],["matColumnDef","collateral"],["mat-header-row",""],["mat-row",""],["mat-header-cell",""],["mat-cell","","body","","mono",""],["mat-cell","","body",""],["mat-cell","","body","","capitalize",""],[3,"pnl"],[3,"content"],["mat-cell","","body","","mono","",3,"sbTooltip"],[1,"scroll-viewport",3,"itemSize"],[4,"ngIf","ngIfElse"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"cdkVirtualFor","cdkVirtualForOf","cdkVirtualForTrackBy"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["body","",1,"buttons"],["color","accent","appearance","fill"],["matInput","","type","text","autocomplete","off",3,"input"],["icon","search","size","2x","matSuffix",""],["mat-raised-button","","download","",3,"href"],[1,"card"],[1,"card-detail"],["body",""],["body","","capitalize",""],["body","","mono","",3,"pnl"],["body","","mono",""],[1,"empty"],["body","","translate","",1,"global__text--warn"]],template:function(t,e){if(1&t&&(u.Oc(0,Tt,2,2,"div",0),u.Oc(1,Mt,2,3,"cdk-virtual-scroll-viewport",1),u.Oc(2,yt,10,7,"div",2),u.Ub(3,"div",3),u.Ub(4,"mat-paginator",4),u.bc("page",(function(t){return e.handlePageEvent(t)})),u.Tb(),u.Tb(),u.Oc(5,St,77,77,"ng-template",null,5,u.Pc),u.Oc(7,Pt,3,0,"ng-template",null,6,u.Pc),u.Oc(9,Dt,1,0,"ng-template",null,7,u.Pc)),2&t){const t=u.Ac(10);u.mc("ngIf",e.loaded)("ngIfElse",t),u.Cb(1),u.mc("ngIf",e.loaded)("ngIfElse",t),u.Cb(1),u.mc("ngIf",e.logs.length)}},directives:[O.n,y.a,S.j,R.a,S.g,S.i,S.c,S.e,S.b,S.f,S.h,S.d,S.a,I.a,Q.a,L.a,k.a,N.a,E.a,A.e,A.a,A.d,O.s,F.c,F.f,$.b,U.b,F.h,T.a,H.a,B.a],pipes:[H.d,O.e,z.a,O.x,W.c],styles:['[_nghost-%COMP%]{display:grid;grid-template:"logs     logs" 1fr "options  paginator" auto/1fr 1fr}@media (max-width:1024px){[_nghost-%COMP%]{grid-template:"logs" 1fr "options" auto/1fr}[_nghost-%COMP%]   .paginator[_ngcontent-%COMP%]{display:none}}cdk-virtual-scroll-viewport[_ngcontent-%COMP%]{display:none;grid-area:logs}@media (max-width:1024px){cdk-virtual-scroll-viewport[_ngcontent-%COMP%]{display:block}}.table-wrapper[_ngcontent-%COMP%]{grid-area:logs;overflow-y:auto}table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]:hover{background-color:rgba(var(--text-colour-rgb),.1)}table[_ngcontent-%COMP%]   .mat-column-change[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   .mat-column-collateral[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   .mat-column-fee[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   .mat-column-mark_price[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   .mat-column-new_average_entry_price[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   .mat-column-new_balance[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   .mat-column-realized_pnl[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   .mat-column-trade_price[_ngcontent-%COMP%]{padding-right:var(--spacing);text-align:right}@media (max-width:1024px){table[_ngcontent-%COMP%]{display:none}}.card[_ngcontent-%COMP%]{border:1px solid var(--border-colour);cursor:pointer;margin:var(--spacing);padding:var(--spacing)}.card[_ngcontent-%COMP%]:hover{background-color:var(--toolbar-colour)}.card-detail[_ngcontent-%COMP%]{align-items:center;display:flex;justify-content:space-between;margin-bottom:6px}.buttons[_ngcontent-%COMP%]{grid-area:options;padding:var(--spacing)}.buttons[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{margin-right:var(--spacing)}.buttons[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]     .mat-form-field-wrapper{padding-bottom:0!important}.buttons[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]     .mat-form-field-underline{bottom:0!important}.buttons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{top:-6px}@media (max-width:1024px){.buttons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{top:5px}}.paginator[_ngcontent-%COMP%]{grid-area:paginator}.empty[_ngcontent-%COMP%]{text-align:center;padding:var(--spacing)}'],changeDetection:0}),t})();var It=c("3kIJ"),Qt=c("9hG1"),Lt=c("NloN"),kt=c("6uGs"),Nt=c("807T"),Et=c("rBBj");function At(t,e){1&t&&u.Pb(0,"tr",31)}function Ft(t,e){1&t&&u.Pb(0,"tr",32)}function $t(t,e){1&t&&(u.Ub(0,"th",33),u.Qc(1),u.gc(2,"translate"),u.Tb()),2&t&&(u.Cb(1),u.Rc(u.hc(2,1,"COLUMN.SYMBOL")))}function Ht(t,e){if(1&t&&(u.Ub(0,"td",34),u.Qc(1),u.gc(2,"cryptoAbbreviation"),u.Tb()),2&t){const t=e.$implicit;u.Cb(1),u.Sc(" ",u.hc(2,1,t.symbol)," ")}}function Bt(t,e){1&t&&(u.Ub(0,"th",33),u.Qc(1),u.gc(2,"translate"),u.Tb()),2&t&&(u.Cb(1),u.Sc(" ",u.hc(2,1,"COLUMN.DATE_TIME")," "))}function zt(t,e){if(1&t&&(u.Ub(0,"td",35),u.Qc(1),u.gc(2,"date"),u.Tb()),2&t){const t=e.$implicit;u.Cb(1),u.Sc(" ",u.ic(2,1,t.timestamp,"dd/MMM/yyyy HH:mm:ss")," ")}}function Wt(t,e){1&t&&(u.Ub(0,"th",33),u.Qc(1),u.gc(2,"translate"),u.Tb()),2&t&&(u.Cb(1),u.Rc(u.hc(2,1,"COLUMN.TYPE")))}function jt(t,e){if(1&t&&(u.Ub(0,"td",34),u.Qc(1),u.Tb()),2&t){const t=e.$implicit;u.Cb(1),u.Sc(" ",t.reason," ")}}function Vt(t,e){1&t&&(u.Ub(0,"th",33),u.Qc(1),u.gc(2,"translate"),u.Tb()),2&t&&(u.Cb(1),u.Sc(" ",u.hc(2,1,"COLUMN.DIRECTION")," "))}function Yt(t,e){if(1&t&&(u.Ub(0,"td",34),u.Qc(1),u.Tb()),2&t){const t=e.$implicit;u.Cb(1),u.Sc(" ",t.direction," ")}}function Gt(t,e){1&t&&(u.Ub(0,"th",33),u.Qc(1),u.gc(2,"translate"),u.Tb()),2&t&&(u.Cb(1),u.Rc(u.hc(2,1,"COLUMN.SIZE")))}function Jt(t,e){if(1&t&&(u.Ub(0,"td",35),u.Qc(1),u.gc(2,"number"),u.Tb()),2&t){const t=e.$implicit;u.Cb(1),u.Sc(" ",u.hc(2,1,t.quantity)," ")}}function qt(t,e){1&t&&(u.Ub(0,"th",33),u.Qc(1),u.gc(2,"translate"),u.Tb()),2&t&&(u.Cb(1),u.Rc(u.hc(2,1,"COLUMN.FILLED")))}function Xt(t,e){if(1&t&&(u.Ub(0,"td",35),u.Qc(1),u.gc(2,"number"),u.Tb()),2&t){const t=e.$implicit;u.Cb(1),u.Sc(" ",u.hc(2,1,t.filled)," ")}}function Kt(t,e){1&t&&(u.Ub(0,"th",33),u.Qc(1),u.gc(2,"translate"),u.Tb()),2&t&&(u.Cb(1),u.Sc(" ",u.hc(2,1,"COLUMN.LIMIT_PRICE")," "))}function Zt(t,e){if(1&t&&(u.Ub(0,"td",35),u.Pb(1,"ghost-trail",36),u.gc(2,"cryptoPrecise"),u.Tb()),2&t){const t=e.$implicit;u.Cb(1),u.nc("content",u.ic(2,1,t.limitPrice,t.symbol))}}function te(t,e){1&t&&(u.Ub(0,"th",37),u.Qc(1),u.gc(2,"translate"),u.Tb()),2&t&&(u.Cb(1),u.Sc(" ",u.hc(2,1,"BUTTON.REDUCE_ONLY")," "))}function ee(t,e){if(1&t&&(u.Ub(0,"td",34),u.Pb(1,"fa-icon",38),u.Tb()),2&t){const t=e.$implicit;u.Cb(1),u.mc("icon",t.reduceOnly?"check-1":"close-medium")("pnlBool",t.reduceOnly)}}function ce(t,e){1&t&&(u.Ub(0,"th",37),u.Qc(1),u.gc(2,"translate"),u.Tb()),2&t&&(u.Cb(1),u.Sc(" ",u.hc(2,1,"COLUMN.ORDER_ID")," "))}function ne(t,e){if(1&t&&(u.Ub(0,"td",34),u.Qc(1),u.Tb()),2&t){const t=e.$implicit;u.Cb(1),u.Sc(" ",t.uid," ")}}function ae(t,e){if(1&t&&(u.Ub(0,"section",39),u.Ub(1,"section",40),u.Ub(2,"p",41),u.Qc(3),u.gc(4,"translate"),u.Tb(),u.Ub(5,"strong",41),u.Qc(6),u.gc(7,"cryptoAbbreviation"),u.Tb(),u.Tb(),u.Ub(8,"section",40),u.Ub(9,"p",41),u.Qc(10),u.gc(11,"translate"),u.Tb(),u.Ub(12,"strong",41),u.Qc(13),u.gc(14,"date"),u.Tb(),u.Tb(),u.Ub(15,"section",40),u.Ub(16,"p",41),u.Qc(17),u.gc(18,"translate"),u.Tb(),u.Ub(19,"strong",41),u.Qc(20),u.Tb(),u.Tb(),u.Ub(21,"section",40),u.Ub(22,"p",41),u.Qc(23),u.gc(24,"translate"),u.Tb(),u.Ub(25,"strong",42),u.Qc(26),u.gc(27,"number"),u.Tb(),u.Tb(),u.Ub(28,"section",40),u.Ub(29,"p",41),u.Qc(30),u.gc(31,"translate"),u.Tb(),u.Ub(32,"strong",42),u.Qc(33),u.gc(34,"cryptoPrecise"),u.Tb(),u.Tb(),u.Ub(35,"section",40),u.Ub(36,"p",41),u.Qc(37),u.gc(38,"translate"),u.Tb(),u.Ub(39,"strong",41),u.Pb(40,"fa-icon",38),u.Tb(),u.Tb(),u.Ub(41,"section",40),u.Ub(42,"p",41),u.Qc(43),u.gc(44,"translate"),u.Tb(),u.Ub(45,"strong",41),u.Qc(46),u.Tb(),u.Tb(),u.Tb()),2&t){const t=e.$implicit;u.Cb(3),u.Sc("",u.hc(4,15,"COLUMN.SYMBOL"),":"),u.Cb(3),u.Rc(u.hc(7,17,t.symbol)),u.Cb(4),u.Sc("",u.hc(11,19,"COLUMN.DATE_TIME"),":"),u.Cb(3),u.Sc(" ",u.ic(14,21,t.timestamp,"dd/MMM/yyyy HH:mm:ss")," "),u.Cb(4),u.Sc("",u.hc(18,24,"COLUMN.TYPE"),":"),u.Cb(3),u.Rc(t.reason),u.Cb(3),u.Sc("",u.hc(24,26,"COLUMN.SIZE"),":"),u.Cb(3),u.Sc(" ",u.hc(27,28,t.quantity)," "),u.Cb(4),u.Sc("",u.hc(31,30,"COLUMN.LIMIT_PRICE"),":"),u.Cb(3),u.Sc(" ",u.ic(34,32,t.limitPrice,t.symbol)," "),u.Cb(4),u.Sc("",u.hc(38,35,"BUTTON.REDUCE_ONLY"),":"),u.Cb(3),u.mc("icon",t.reduceOnly?"check-1":"close-medium")("pnlBool",t.reduceOnly),u.Cb(3),u.Sc("",u.hc(44,37,"COLUMN.ORDER_ID"),":"),u.Cb(3),u.Rc(t.uid)}}function oe(t,e){1&t&&(u.Ub(0,"section",43),u.Ub(1,"p",44),u.Qc(2,"You have no logs to show."),u.Tb(),u.Tb())}function ie(t,e){1&t&&u.Pb(0,"kraken-loading")}let re=(()=>{class t{constructor(t,e,c){this.formBuilder=t,this.env=e,this.http=c,this.form=this.buildForm(),this.tableColumns=["time","tradeable","reason","direction","quantity","filled","price","reduce_only","order_id"],this.tableData=new S.k([])}set orders(t){this.tableData.data=t}ngOnInit(){this.paginator.pageSizeOptions=[25,50,100],this.paginator.pageSize=25}ngOnChanges(t){t.orders&&t.orders.currentValue&&(this.tableData.paginator=this.paginator,this.tableData.sort=this.sort)}buildForm(){const t=new Date,e=(new Date).setDate(t.getDate()-30);return this.formBuilder.group({startDate:[new Date(e),[It.x.required]],endDate:[t,[It.x.required]]})}downloadHistory(){return Object(o.a)(this,void 0,void 0,(function*(){const t=new Date(this.form.get("startDate").value),e=new Date(this.form.get("endDate").value);let c,n;t.setHours(0,0,0,1),c=t.getTime().toFixed(0),e.setHours(23,59,59,59),n=e.getTime().toFixed(0);const a=`${this.env.urls.history}/orders?since=${c}&before=${n}`,o=`orders_${c}-${n}.csv`,i=yield this.http.get(a,{observe:"response",responseType:"blob",headers:{"Content-Type":"application/json",Accept:"text/csv"},withCredentials:!0}).toPromise(),r=i.headers.get("content-disposition")||"",s=/filename="([^"]+)"/.exec(r),b=s&&s[1]?s[1]:o;i.body&&Object(Lt.f)(i.body,b)}))}get maxDate(){return Qt.DateTime.local().toJSDate()}}return t.\u0275fac=function(e){return new(e||t)(u.Ob(It.d),u.Ob(m.a),u.Ob(kt.a))},t.\u0275cmp=u.Ib({type:t,selectors:[["recent-orders"]],viewQuery:function(t,e){var c;1&t&&(u.Jc(y.a,!0),u.Jc(R.a,!0)),2&t&&(u.zc(c=u.cc())&&(e.paginator=c.first),u.zc(c=u.cc())&&(e.sort=c.first))},inputs:{orders:"orders"},features:[u.Ab],decls:59,vars:22,consts:[[1,"recent-orders"],["mat-table","","matSort","",3,"dataSource"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["matColumnDef","tradeable"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["body","","mat-cell","",4,"matCellDef"],["matColumnDef","time"],["body","","mono","","mat-cell","",4,"matCellDef"],["matColumnDef","reason"],["matColumnDef","direction"],["matColumnDef","quantity"],["matColumnDef","filled"],["matColumnDef","price"],["matColumnDef","reduce_only"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","order_id"],[1,"recent-orders__scroll-viewport",3,"itemSize"],["class","recent-orders__card",4,"cdkVirtualFor","cdkVirtualForOf"],[1,"recent-orders__buttons"],["body","",1,"recent-orders__form",3,"formGroup"],["color","accent","appearance","fill"],["required","","matInput","","formControlName","startDate","tabindex","4",3,"matDatepicker","max"],["matSuffix","",3,"for"],["startDate",""],["required","","matInput","","formControlName","endDate","tabindex","4",3,"matDatepicker","max"],["endDate",""],["mat-raised-button","",3,"click"],["noLogs",""],["showFirstLastButtons","",1,"paginator"],["loader",""],["mat-header-row",""],["mat-row",""],["mat-header-cell","","mat-sort-header",""],["body","","mat-cell",""],["body","","mono","","mat-cell",""],[3,"content"],["mat-header-cell",""],["size","2x",3,"icon","pnlBool"],[1,"recent-orders__card"],[1,"recent-orders__card-detail"],["body",""],["body","","mono",""],[1,"empty"],["body","",1,"global__text--warn"]],template:function(t,e){if(1&t&&(u.Ub(0,"section",0),u.Ub(1,"table",1),u.Oc(2,At,1,0,"tr",2),u.Oc(3,Ft,1,0,"tr",3),u.Sb(4,4),u.Oc(5,$t,3,3,"th",5),u.Oc(6,Ht,3,3,"td",6),u.Rb(),u.Sb(7,7),u.Oc(8,Bt,3,3,"th",5),u.Oc(9,zt,3,4,"td",8),u.Rb(),u.Sb(10,9),u.Oc(11,Wt,3,3,"th",5),u.Oc(12,jt,2,1,"td",6),u.Rb(),u.Sb(13,10),u.Oc(14,Vt,3,3,"th",5),u.Oc(15,Yt,2,1,"td",6),u.Rb(),u.Sb(16,11),u.Oc(17,Gt,3,3,"th",5),u.Oc(18,Jt,3,3,"td",8),u.Rb(),u.Sb(19,12),u.Oc(20,qt,3,3,"th",5),u.Oc(21,Xt,3,3,"td",8),u.Rb(),u.Sb(22,13),u.Oc(23,Kt,3,3,"th",5),u.Oc(24,Zt,3,4,"td",8),u.Rb(),u.Sb(25,14),u.Oc(26,te,3,3,"th",15),u.Oc(27,ee,2,2,"td",6),u.Rb(),u.Sb(28,16),u.Oc(29,ce,3,3,"th",15),u.Oc(30,ne,2,1,"td",6),u.Rb(),u.Tb(),u.Ub(31,"cdk-virtual-scroll-viewport",17),u.Oc(32,ae,47,39,"section",18),u.Tb(),u.Tb(),u.Ub(33,"div",19),u.Ub(34,"form",20),u.Ub(35,"mat-form-field",21),u.Ub(36,"mat-label"),u.Qc(37),u.gc(38,"translate"),u.Tb(),u.Pb(39,"input",22),u.Pb(40,"mat-datepicker-toggle",23),u.Pb(41,"mat-datepicker",null,24),u.Tb(),u.Ub(43,"mat-form-field",21),u.Ub(44,"mat-label"),u.Qc(45),u.gc(46,"translate"),u.Tb(),u.Pb(47,"input",25),u.Pb(48,"mat-datepicker-toggle",23),u.Pb(49,"mat-datepicker",null,26),u.Tb(),u.Ub(51,"button",27),u.bc("click",(function(){return e.downloadHistory()})),u.Qc(52),u.gc(53,"translate"),u.Tb(),u.Tb(),u.Tb(),u.Oc(54,oe,3,0,"ng-template",null,28,u.Pc),u.Pb(56,"mat-paginator",29),u.Oc(57,ie,1,0,"ng-template",null,30,u.Pc)),2&t){const t=u.Ac(42),c=u.Ac(50);u.Cb(1),u.mc("dataSource",e.tableData),u.Cb(1),u.mc("matHeaderRowDef",e.tableColumns)("matHeaderRowDefSticky",!0),u.Cb(1),u.mc("matRowDefColumns",e.tableColumns),u.Cb(28),u.mc("itemSize",175),u.Cb(1),u.mc("cdkVirtualForOf",e.tableData.data),u.Cb(2),u.mc("formGroup",e.form),u.Cb(3),u.Rc(u.hc(38,16,"FORM.START_DATE")),u.Cb(2),u.mc("matDatepicker",t)("max",e.maxDate),u.Cb(1),u.mc("for",t),u.Cb(5),u.Rc(u.hc(46,18,"FORM.END_DATE")),u.Cb(2),u.mc("matDatepicker",c)("max",e.maxDate),u.Cb(1),u.mc("for",c),u.Cb(4),u.Sc(" ",u.hc(53,20,"TOOLTIP.DOWNLOAD_ALL")," ")}},directives:[S.j,R.a,S.g,S.i,S.c,S.e,S.b,A.e,A.a,A.d,It.z,It.p,I.a,It.h,F.c,F.f,$.b,It.c,Nt.b,It.v,It.o,It.g,Nt.d,F.h,Nt.a,T.b,y.a,S.f,S.h,S.d,R.b,S.a,Q.a,N.a,U.b,Et.a,B.a],pipes:[H.d,z.a,O.e,O.f,W.b],styles:["[_nghost-%COMP%]{display:block}@media (max-width:1024px){.paginator[_ngcontent-%COMP%]{display:none!important}}.recent-orders[_ngcontent-%COMP%]{height:calc(100% - 60px);overflow:auto}@media (max-width:1024px){.recent-orders[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{display:none}}.recent-orders[_ngcontent-%COMP%]   cdk-virtual-scroll-viewport[_ngcontent-%COMP%]{display:none;height:100%}@media (max-width:1024px){.recent-orders[_ngcontent-%COMP%]   cdk-virtual-scroll-viewport[_ngcontent-%COMP%]{display:block}}.recent-orders__card[_ngcontent-%COMP%]{border:1px solid var(--border-colour);cursor:pointer;margin:var(--spacing);padding:var(--spacing)}.recent-orders__card[_ngcontent-%COMP%]:hover{background-color:var(--toolbar-colour)}.recent-orders__card-detail[_ngcontent-%COMP%]{align-items:center;display:flex;justify-content:space-between;margin-bottom:6px}.recent-orders__card-detail[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{text-transform:capitalize}.recent-orders__buttons[_ngcontent-%COMP%]{bottom:0;left:0;overflow:hidden;padding-top:var(--spacing);padding-left:var(--spacing);position:absolute;width:50%}@media (max-width:1024px){.recent-orders__buttons[_ngcontent-%COMP%]{width:calc(100% - var(--spacing))}}.recent-orders__buttons[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{margin-bottom:-10px}@media (max-width:1024px){.recent-orders__buttons[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{display:none}}.recent-orders__buttons[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{align-items:center;display:flex}.recent-orders__buttons[_ngcontent-%COMP%]   form[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin-right:var(--spacing)}@media (max-width:1024px){.recent-orders__buttons[_ngcontent-%COMP%]   form[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{width:100%}}.recent-orders__buttons[_ngcontent-%COMP%]   form[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{margin-bottom:var(--spacing-s)}.empty[_ngcontent-%COMP%]{text-align:center;padding:var(--spacing)}"],changeDetection:0}),t})();var se=c("WYJo"),be=c("rcUp");function le(t,e){1&t&&u.Pb(0,"kraken-loading")}function de(t,e){1&t&&u.Pb(0,"tr",21)}function ge(t,e){1&t&&u.Pb(0,"tr",22)}function me(t,e){1&t&&(u.Ub(0,"th",23),u.Qc(1),u.gc(2,"translate"),u.Tb()),2&t&&(u.Cb(1),u.Rc(u.hc(2,1,"COLUMN.TYPE")))}function fe(t,e){if(1&t&&(u.Ub(0,"td",24),u.Qc(1),u.Tb()),2&t){const t=e.$implicit;u.Cb(1),u.Sc(" ",t.amount>0?"Deposit":"Withdrawal"," ")}}function pe(t,e){1&t&&(u.Ub(0,"th",23),u.Qc(1),u.gc(2,"translate"),u.Tb()),2&t&&(u.Cb(1),u.Sc(" ",u.hc(2,1,"COLUMN.DATE_TIME")," "))}function ue(t,e){if(1&t&&(u.Ub(0,"td",25),u.Qc(1),u.gc(2,"date"),u.Tb()),2&t){const t=e.$implicit;u.Cb(1),u.Sc(" ",u.ic(2,1,t.time,"dd/MMM/yyyy HH:mm:ss")," ")}}function he(t,e){1&t&&(u.Ub(0,"th",23),u.Qc(1),u.gc(2,"translate"),u.Tb()),2&t&&(u.Cb(1),u.Rc(u.hc(2,1,"COLUMN.AMOUNT")))}function Ce(t,e){if(1&t&&(u.Ub(0,"td",25),u.Qc(1),u.gc(2,"crypto"),u.Tb()),2&t){const t=e.$implicit;u.Cb(1),u.Tc(" ",u.ic(2,2,t.amount,t.unit)," ",t.unit," ")}}function Oe(t,e){1&t&&(u.Ub(0,"th",23),u.Qc(1),u.gc(2,"translate"),u.Tb()),2&t&&(u.Cb(1),u.Sc(" ",u.hc(2,1,"COLUMN.DESTINATION")," "))}function Te(t,e){if(1&t&&(u.Ub(0,"td",24),u.Ub(1,"a",26),u.Qc(2),u.gc(3,"truncate"),u.Tb(),u.Tb()),2&t){const t=e.$implicit,c=u.fc(3);u.Cb(1),u.mc("href",c.getUrlForAddress(t),u.Gc),u.Cb(1),u.Sc(" ",u.ic(3,2,t.receiving_address,15),"... ")}}function _e(t,e){1&t&&(u.Ub(0,"th",23),u.Qc(1),u.gc(2,"translate"),u.Tb()),2&t&&(u.Cb(1),u.Rc(u.hc(2,1,"COLUMN.STATUS")))}function Ue(t,e){if(1&t&&(u.Ub(0,"td",24),u.Qc(1),u.gc(2,"uppercase"),u.Tb()),2&t){const t=e.$implicit;u.Cb(1),u.Sc(" ",u.hc(2,1,t.status)," ")}}function we(t,e){1&t&&(u.Ub(0,"th",23),u.Qc(1),u.gc(2,"translate"),u.Tb()),2&t&&(u.Cb(1),u.Rc(u.hc(2,1,"COLUMN.TX_REF")))}function Me(t,e){if(1&t&&(u.Ub(0,"a",26),u.Qc(1),u.gc(2,"truncate"),u.Tb()),2&t){const t=u.fc().$implicit,e=u.fc(3);u.mc("href",e.getUrlForTx(t),u.Gc),u.Cb(1),u.Sc(" ",u.ic(2,2,t.tx_reference,10),"... ")}}function ye(t,e){1&t&&(u.Sb(0),u.Qc(1),u.Rb()),2&t&&(u.Cb(1),u.Sc(" ","Internal"," "))}function Se(t,e){1&t&&(u.Sb(0),u.Qc(1),u.Rb()),2&t&&(u.Cb(1),u.Rc("-"))}function Pe(t,e){if(1&t&&(u.Ub(0,"td",24),u.Oc(1,Me,3,5,"a",27),u.Oc(2,ye,2,1,"ng-container",1),u.Oc(3,Se,2,1,"ng-container",1),u.Tb()),2&t){const t=e.$implicit;u.Cb(1),u.mc("ngIf",t.tx_reference&&"Internal Transaction"!==t.tx_reference),u.Cb(1),u.mc("ngIf",t.tx_reference&&"Internal Transaction"===t.tx_reference),u.Cb(1),u.mc("ngIf",!t.tx_reference)}}function De(t,e){1&t&&(u.Ub(0,"th",23),u.Qc(1),u.gc(2,"translate"),u.Tb()),2&t&&(u.Cb(1),u.Sc(" ",u.hc(2,1,"COLUMN.TRANSFER_ID")," "))}function ve(t,e){if(1&t&&(u.Ub(0,"td",24),u.Qc(1),u.Tb()),2&t){const t=e.$implicit;u.Cb(1),u.Sc(" ",t.uid," ")}}function xe(t,e){1&t&&u.Pb(0,"th",23)}function Re(t,e){if(1&t){const t=u.Vb();u.Ub(0,"button",29),u.bc("click",(function(e){u.Ec(t);const c=u.fc().$implicit;return u.fc(3).cancelWithdrawal(c.uid),e.stopPropagation()})),u.Pb(1,"fa-icon",30),u.gc(2,"translate"),u.Tb()}2&t&&(u.Cb(1),u.mc("matTooltip",u.hc(2,1,"TOOLTIP.CANCEL_WITHDRAWAL")))}function Ie(t,e){if(1&t&&(u.Ub(0,"td",24),u.Oc(1,Re,3,3,"button",28),u.Tb()),2&t){const t=e.$implicit;u.Cb(1),u.mc("ngIf",t.amount<0&&"pending"===t.status)}}function Qe(t,e){if(1&t&&(u.Ub(0,"table",7),u.Oc(1,de,1,0,"tr",8),u.Oc(2,ge,1,0,"tr",9),u.Sb(3,10),u.Oc(4,me,3,3,"th",11),u.Oc(5,fe,2,1,"td",12),u.Rb(),u.Sb(6,13),u.Oc(7,pe,3,3,"th",11),u.Oc(8,ue,3,4,"td",14),u.Rb(),u.Sb(9,15),u.Oc(10,he,3,3,"th",11),u.Oc(11,Ce,3,5,"td",14),u.Rb(),u.Sb(12,16),u.Oc(13,Oe,3,3,"th",11),u.Oc(14,Te,4,5,"td",12),u.Rb(),u.Sb(15,17),u.Oc(16,_e,3,3,"th",11),u.Oc(17,Ue,3,3,"td",12),u.Rb(),u.Sb(18,18),u.Oc(19,we,3,3,"th",11),u.Oc(20,Pe,4,3,"td",12),u.Rb(),u.Sb(21,19),u.Oc(22,De,3,3,"th",11),u.Oc(23,ve,2,1,"td",12),u.Rb(),u.Sb(24,20),u.Oc(25,xe,1,0,"th",11),u.Oc(26,Ie,2,1,"td",12),u.Rb(),u.Tb()),2&t){const t=u.fc(2);u.mc("dataSource",t.tableData),u.Cb(1),u.mc("matHeaderRowDef",t.tableColumns)("matHeaderRowDefSticky",!0),u.Cb(1),u.mc("matRowDefColumns",t.tableColumns)}}function Le(t,e){if(1&t&&(u.Ub(0,"a",37),u.Qc(1),u.gc(2,"truncate"),u.Tb()),2&t){const t=u.fc().$implicit,e=u.fc(3);u.mc("href",e.getUrlForTx(t),u.Gc),u.Cb(1),u.Sc(" ",u.ic(2,2,t.tx_reference,10),"... ")}}function ke(t,e){1&t&&(u.Sb(0),u.Qc(1),u.Rb()),2&t&&(u.Cb(1),u.Sc(" ","Internal"," "))}function Ne(t,e){1&t&&(u.Sb(0),u.Qc(1),u.Rb()),2&t&&(u.Cb(1),u.Rc("-"))}function Ee(t,e){if(1&t&&(u.Ub(0,"section",33),u.Ub(1,"section",34),u.Ub(2,"p",35),u.Qc(3),u.gc(4,"translate"),u.Tb(),u.Ub(5,"strong",35),u.Qc(6),u.Tb(),u.Tb(),u.Ub(7,"section",34),u.Ub(8,"p",35),u.Qc(9),u.gc(10,"translate"),u.Tb(),u.Ub(11,"strong",35),u.Qc(12),u.gc(13,"date"),u.Tb(),u.Tb(),u.Ub(14,"section",34),u.Ub(15,"p",35),u.Qc(16),u.gc(17,"translate"),u.Tb(),u.Ub(18,"strong",36),u.Qc(19),u.gc(20,"crypto"),u.Tb(),u.Tb(),u.Ub(21,"section",34),u.Ub(22,"p",35),u.Qc(23),u.gc(24,"translate"),u.Tb(),u.Ub(25,"strong",35),u.Ub(26,"a",37),u.Qc(27),u.gc(28,"truncate"),u.Tb(),u.Tb(),u.Tb(),u.Ub(29,"section",34),u.Ub(30,"p",35),u.Qc(31),u.gc(32,"translate"),u.Tb(),u.Ub(33,"strong",35),u.Qc(34),u.gc(35,"uppercase"),u.Tb(),u.Tb(),u.Ub(36,"section",34),u.Ub(37,"p",35),u.Qc(38),u.gc(39,"translate"),u.Tb(),u.Ub(40,"strong",35),u.Oc(41,Le,3,5,"a",38),u.Oc(42,ke,2,1,"ng-container",1),u.Oc(43,Ne,2,1,"ng-container",1),u.Tb(),u.Tb(),u.Ub(44,"section",34),u.Ub(45,"p",35),u.Qc(46),u.gc(47,"translate"),u.Tb(),u.Ub(48,"strong",35),u.Qc(49),u.gc(50,"truncate"),u.Tb(),u.Tb(),u.Tb()),2&t){const t=e.$implicit,c=u.fc(3);u.Cb(3),u.Sc("",u.hc(4,18,"COLUMN.TYPE"),":"),u.Cb(3),u.Sc(" ",t.amount>0?"Deposit":"Withdrawal"," "),u.Cb(3),u.Sc("",u.hc(10,20,"COLUMN.DATE_TIME"),":"),u.Cb(3),u.Sc(" ",u.ic(13,22,t.time,"dd/MMM/yyyy HH:mm:ss")," "),u.Cb(4),u.Sc("",u.hc(17,25,"COLUMN.AMOUNT"),":"),u.Cb(3),u.Tc(" ",u.ic(20,27,t.amount,t.unit)," ",t.unit," "),u.Cb(4),u.Sc("",u.hc(24,30,"COLUMN.DESTINATION"),":"),u.Cb(3),u.mc("href",c.getUrlForAddress(t),u.Gc),u.Cb(1),u.Sc(" ",u.ic(28,32,t.receiving_address,15),"... "),u.Cb(4),u.Sc("",u.hc(32,35,"COLUMN.STATUS"),":"),u.Cb(3),u.Rc(u.hc(35,37,t.status)),u.Cb(4),u.Sc("",u.hc(39,39,"COLUMN.TX_REF"),":"),u.Cb(3),u.mc("ngIf",t.tx_reference&&"Internal Transaction"!==t.tx_reference),u.Cb(1),u.mc("ngIf",t.tx_reference&&"Internal Transaction"===t.tx_reference),u.Cb(1),u.mc("ngIf",!t.tx_reference),u.Cb(3),u.Sc("",u.hc(47,41,"COLUMN.TRANSFER_ID"),":"),u.Cb(3),u.Sc(" ",u.ic(50,43,t.uid,10),"... ")}}function Ae(t,e){if(1&t&&(u.Ub(0,"cdk-virtual-scroll-viewport",31),u.Oc(1,Ee,51,46,"section",32),u.Tb()),2&t){const t=u.fc(2);u.mc("itemSize",175),u.Cb(1),u.mc("cdkVirtualForOf",t.filteredDepositsWithdrawals)}}function Fe(t,e){1&t&&(u.Ub(0,"section",39),u.Ub(1,"p",40),u.Qc(2,"You have no logs to show."),u.Tb(),u.Tb())}function $e(t,e){if(1&t&&(u.Sb(0),u.Oc(1,Qe,27,4,"table",4),u.Oc(2,Ae,2,2,"cdk-virtual-scroll-viewport",5),u.Oc(3,Fe,3,0,"section",6),u.Rb()),2&t){const t=u.fc();u.Cb(1),u.mc("ngIf",null==t.depositsWithdrawals?null:t.depositsWithdrawals.length),u.Cb(1),u.mc("ngIf",null==t.depositsWithdrawals?null:t.depositsWithdrawals.length),u.Cb(1),u.mc("ngIf",!(null!=t.depositsWithdrawals&&t.depositsWithdrawals.length))}}function He(t,e){if(1&t){const t=u.Vb();u.Ub(0,"div",41),u.Ub(1,"mat-form-field",42),u.Ub(2,"mat-label"),u.Qc(3),u.gc(4,"translate"),u.Tb(),u.Ub(5,"input",43),u.bc("keyup",(function(e){return u.Ec(t),u.fc().applyTableFilter(e.target.value)})),u.Tb(),u.Pb(6,"fa-icon",44),u.Tb(),u.Tb()}2&t&&(u.Cb(3),u.Sc("",u.hc(4,1,"FORM.FILTER_BY_SYMBOL"),":"))}let Be=(()=>{class t{constructor(){this.tableColumns=["type","time","amount","receiving_address","status","tx_reference","uid","cancel"],this.cancelWithdrawal$=new u.o}ngOnChanges(t){t.depositsWithdrawals&&t.depositsWithdrawals.currentValue&&(this.paginator.pageSizeOptions=[25,50,100],this.filteredDepositsWithdrawals=this.depositsWithdrawals,this.tableData=new S.k(this.depositsWithdrawals),this.tableData.paginator=this.paginator,this.tableData.sort=this.sort,this.tableData.filterPredicate=(t,e)=>t.unit.toLowerCase().includes(e.toLowerCase()))}applyTableFilter(t){this.tableData.filter=t,this.filteredDepositsWithdrawals=this.depositsWithdrawals.filter(e=>e.unit.toLowerCase().includes(t.toLowerCase()))}cancelWithdrawal(t){this.cancelWithdrawal$.emit(t)}get isLoading(){return!this.depositsWithdrawals}getUrlForTx(t){switch(t.unit){case"XBT":case"BTC":return"https://blockchain.info/tx/"+t.tx_reference;case"XRP":return"https://bithomp.com/explorer/"+t.tx_reference;case"ETH":return"https://etherscan.io/tx/"+t.tx_reference;case"LTC":return"https://chain.so/tx/LTC/"+t.tx_reference;case"BCH":return"https://blockdozer.com/tx/"+t.tx_reference;default:return"#"}}getUrlForAddress(t){switch(t.unit){case"XBT":case"BTC":return"https://blockchain.info/address/"+t.receiving_address;case"XRP":return"https://bithomp.com/address/"+t.receiving_address;case"ETH":return"https://etherscan.io/address/"+t.receiving_address;case"LTC":return"https://chain.so/address/LTC/"+t.receiving_address;case"BCH":return"https://blockdozer.com/address/"+t.receiving_address;default:return"#"}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=u.Ib({type:t,selectors:[["deposits-withdrawals"]],viewQuery:function(t,e){var c;1&t&&(u.Jc(y.a,!0),u.Jc(R.a,!0)),2&t&&(u.zc(c=u.cc())&&(e.paginator=c.first),u.zc(c=u.cc())&&(e.sort=c.first))},inputs:{depositsWithdrawals:"depositsWithdrawals"},outputs:{cancelWithdrawal$:"cancelWithdrawal"},features:[u.Ab],decls:5,vars:3,consts:[[1,"deposits-withdrawals"],[4,"ngIf"],["class","deposits-withdrawals__buttons global__text global__text-body",4,"ngIf"],["showFirstLastButtons",""],["mat-table","",3,"dataSource",4,"ngIf"],["class","deposit-withdrawals__scroll-viewport",3,"itemSize",4,"ngIf"],["class","deposits-withdrawals__empty",4,"ngIf"],["mat-table","",3,"dataSource"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["matColumnDef","type"],["mat-header-cell","",4,"matHeaderCellDef"],["body","","mat-cell","",4,"matCellDef"],["matColumnDef","time"],["body","","mono","","mat-cell","",4,"matCellDef"],["matColumnDef","amount"],["matColumnDef","receiving_address"],["matColumnDef","status"],["matColumnDef","tx_reference"],["matColumnDef","uid"],["matColumnDef","cancel"],["mat-header-row",""],["mat-row",""],["mat-header-cell",""],["body","","mat-cell",""],["body","","mono","","mat-cell",""],["body","","target","_blank",1,"global__text--link",3,"href"],["body","","class","global__text--link","target","_blank",3,"href",4,"ngIf"],["mat-icon-button","","color","warn",3,"click",4,"ngIf"],["mat-icon-button","","color","warn",3,"click"],["icon","close-medium","size","2x",3,"matTooltip"],[1,"deposit-withdrawals__scroll-viewport",3,"itemSize"],["class","deposits-withdrawals__card",4,"cdkVirtualFor","cdkVirtualForOf"],[1,"deposits-withdrawals__card"],[1,"deposits-withdrawals__card-detail"],[1,"global__text","global__text-body"],[1,"global__text","global__text-body","global__text--mono"],["target","_blank",1,"global__text","global__text-body","global__text--link",3,"href"],["class","global__text global__text-body global__text--link","target","_blank",3,"href",4,"ngIf"],[1,"deposits-withdrawals__empty"],[1,"global__text","global__text-body","global__text--warn"],[1,"deposits-withdrawals__buttons","global__text","global__text-body"],["color","accent","appearance","fill"],["matInput","","type","text","autocomplete","off",3,"keyup"],["icon","search","size","2x","matSuffix",""]],template:function(t,e){1&t&&(u.Ub(0,"section",0),u.Oc(1,le,1,0,"kraken-loading",1),u.Oc(2,$e,4,3,"ng-container",1),u.Oc(3,He,7,3,"div",2),u.Pb(4,"mat-paginator",3),u.Tb()),2&t&&(u.Cb(1),u.mc("ngIf",e.isLoading),u.Cb(1),u.mc("ngIf",!e.isLoading),u.Cb(1),u.mc("ngIf",null==e.depositsWithdrawals?null:e.depositsWithdrawals.length))},directives:[O.n,y.a,B.a,S.j,S.g,S.i,S.c,S.e,S.b,S.f,S.h,S.d,S.a,I.a,Q.a,T.b,U.b,se.a,A.e,A.a,A.d,F.c,F.f,$.b,F.h],pipes:[H.d,O.e,W.a,be.a,O.x],styles:["[_nghost-%COMP%]{display:block}.deposits-withdrawals[_ngcontent-%COMP%]{height:calc(100% - 60px);overflow:auto}@media (max-width:1024px){.deposits-withdrawals[_ngcontent-%COMP%]{height:100%}}@media (max-width:1024px){.deposits-withdrawals[_ngcontent-%COMP%]   .mat-paginator[_ngcontent-%COMP%], .deposits-withdrawals[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{display:none}}.deposits-withdrawals[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .mat-column-amount[_ngcontent-%COMP%]{text-align:right;padding-right:var(--spacing)}.deposits-withdrawals[_ngcontent-%COMP%]   cdk-virtual-scroll-viewport[_ngcontent-%COMP%]{display:none;height:100%}@media (max-width:1024px){.deposits-withdrawals[_ngcontent-%COMP%]   cdk-virtual-scroll-viewport[_ngcontent-%COMP%]{display:block}}.deposits-withdrawals__card[_ngcontent-%COMP%]{border:1px solid var(--border-colour);cursor:pointer;margin:var(--spacing);padding:var(--spacing)}.deposits-withdrawals__card[_ngcontent-%COMP%]:hover{background-color:var(--toolbar-colour)}.deposits-withdrawals__card-detail[_ngcontent-%COMP%]{align-items:center;display:flex;justify-content:space-between;margin-bottom:6px}.deposits-withdrawals__card-detail[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{text-transform:capitalize}.deposits-withdrawals__buttons[_ngcontent-%COMP%]{bottom:0;left:0;overflow:hidden;padding-top:var(--spacing);padding-left:var(--spacing);position:absolute;width:50%}@media (max-width:1024px){.deposits-withdrawals__buttons[_ngcontent-%COMP%]{display:none}}.deposits-withdrawals__buttons[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{margin-bottom:-10px}.deposits-withdrawals__empty[_ngcontent-%COMP%]{text-align:center;padding:var(--spacing)}"],changeDetection:0}),t})();function ze(t,e){1&t&&u.Pb(0,"tr",23)}function We(t,e){1&t&&u.Pb(0,"tr",24)}function je(t,e){1&t&&(u.Ub(0,"th",25),u.Qc(1),u.gc(2,"translate"),u.Tb()),2&t&&(u.Cb(1),u.Rc(u.hc(2,1,"COLUMN.DATE")))}function Ve(t,e){if(1&t&&(u.Ub(0,"td",26),u.Qc(1),u.gc(2,"date"),u.Tb()),2&t){const t=e.$implicit;u.Cb(1),u.Sc(" ",u.ic(2,1,t.timestamp,"dd/MMM/yyyy HH:mm:ss")," ")}}function Ye(t,e){1&t&&(u.Ub(0,"th",25),u.Qc(1),u.gc(2,"translate"),u.Tb()),2&t&&(u.Cb(1),u.Rc(u.hc(2,1,"COLUMN.AMOUNT")))}function Ge(t,e){if(1&t&&(u.Ub(0,"td",27),u.Qc(1),u.gc(2,"crypto"),u.gc(3,"uppercase"),u.Tb()),2&t){const t=e.$implicit;u.Cb(1),u.Tc(" ",u.ic(2,2,t.amount,t.currencyUnit)," ",u.hc(3,5,t.currencyUnit)," ")}}function Je(t,e){1&t&&(u.Ub(0,"th",25),u.Qc(1),u.gc(2,"translate"),u.Tb()),2&t&&(u.Cb(1),u.Rc(u.hc(2,1,"COLUMN.TYPE")))}function qe(t,e){if(1&t&&(u.Ub(0,"td",28),u.Qc(1),u.Tb()),2&t){const t=e.$implicit;u.Cb(1),u.Sc(" ",t.type," ")}}function Xe(t,e){1&t&&(u.Ub(0,"th",25),u.Qc(1),u.gc(2,"translate"),u.Tb()),2&t&&(u.Cb(1),u.Rc(u.hc(2,1,"COLUMN.SYMBOL")))}function Ke(t,e){if(1&t&&(u.Ub(0,"td",27),u.Qc(1),u.Tb()),2&t){const t=e.$implicit;u.Cb(1),u.Sc(" ",t.currencyUnit," ")}}function Ze(t,e){1&t&&(u.Ub(0,"th",25),u.Qc(1),u.gc(2,"translate"),u.Tb()),2&t&&(u.Cb(1),u.Rc(u.hc(2,1,"COLUMN.STATUS")))}function tc(t,e){if(1&t&&(u.Ub(0,"td",27),u.Qc(1),u.Tb()),2&t){const t=e.$implicit;u.Cb(1),u.Sc(" ",t.status||"-"," ")}}function ec(t,e){1&t&&(u.Ub(0,"th",25),u.Qc(1),u.gc(2,"translate"),u.Tb()),2&t&&(u.Cb(1),u.Rc(u.hc(2,1,"COLUMN.FEE")))}function cc(t,e){if(1&t&&(u.Ub(0,"td",27),u.Qc(1),u.gc(2,"crypto"),u.gc(3,"uppercase"),u.Tb()),2&t){const t=e.$implicit;u.Cb(1),u.Tc(" ",u.ic(2,2,t.transferFee,t.currencyUnit)||"-"," ",t.transferFee?u.hc(3,5,t.currencyUnit):""," ")}}function nc(t,e){1&t&&(u.Ub(0,"th",25),u.Qc(1),u.gc(2,"translate"),u.Tb()),2&t&&(u.Cb(1),u.Rc(u.hc(2,1,"COLUMN.BANK_TRANSACTION_ID")))}function ac(t,e){if(1&t&&(u.Ub(0,"td",27),u.Qc(1),u.Tb()),2&t){const t=e.$implicit;u.Cb(1),u.Sc(" ",t.bankTransactionId||"-"," ")}}function oc(t,e){if(1&t&&(u.Ub(0,"table",9),u.Oc(1,ze,1,0,"tr",10),u.Oc(2,We,1,0,"tr",11),u.Sb(3,12),u.Oc(4,je,3,3,"th",13),u.Oc(5,Ve,3,4,"td",14),u.Rb(),u.Sb(6,15),u.Oc(7,Ye,3,3,"th",13),u.Oc(8,Ge,4,7,"td",16),u.Rb(),u.Sb(9,17),u.Oc(10,Je,3,3,"th",13),u.Oc(11,qe,2,1,"td",18),u.Rb(),u.Sb(12,19),u.Oc(13,Xe,3,3,"th",13),u.Oc(14,Ke,2,1,"td",16),u.Rb(),u.Sb(15,20),u.Oc(16,Ze,3,3,"th",13),u.Oc(17,tc,2,1,"td",16),u.Rb(),u.Sb(18,21),u.Oc(19,ec,3,3,"th",13),u.Oc(20,cc,4,7,"td",16),u.Rb(),u.Sb(21,22),u.Oc(22,nc,3,3,"th",13),u.Oc(23,ac,2,1,"td",16),u.Rb(),u.Tb()),2&t){const t=u.fc(2);u.mc("dataSource",t.tableData),u.Cb(1),u.mc("matHeaderRowDef",t.tableColumns)("matHeaderRowDefSticky",!0),u.Cb(1),u.mc("matRowDefColumns",t.tableColumns)}}function ic(t,e){if(1&t&&(u.Ub(0,"div",7),u.Oc(1,oc,24,4,"table",8),u.Tb()),2&t){const t=u.fc(),e=u.Ac(7);u.Cb(1),u.mc("ngIf",t.logs.length)("ngIfElse",e)}}const rc=function(t){return{$implicit:t}};function sc(t,e){if(1&t&&u.Qb(0,32),2&t){const t=e.$implicit;u.fc(3);const c=u.Ac(5);u.mc("ngTemplateOutlet",c)("ngTemplateOutletContext",u.rc(2,rc,t))}}function bc(t,e){if(1&t&&(u.Sb(0),u.Oc(1,sc,1,4,"ng-container",31),u.Rb()),2&t){const t=u.fc(2);u.Cb(1),u.mc("cdkVirtualForOf",t.logs)}}function lc(t,e){if(1&t&&(u.Ub(0,"cdk-virtual-scroll-viewport",29),u.Oc(1,bc,2,1,"ng-container",30),u.Tb()),2&t){const t=u.fc(),e=u.Ac(7);u.mc("itemSize",50),u.Cb(1),u.mc("ngIf",t.logs.length)("ngIfElse",e)}}function dc(t,e){if(1&t&&(u.Ub(0,"section",33),u.Ub(1,"section",34),u.Ub(2,"p",35),u.Qc(3),u.gc(4,"translate"),u.Tb(),u.Ub(5,"strong",35),u.Qc(6),u.gc(7,"date"),u.Tb(),u.Tb(),u.Ub(8,"section",34),u.Ub(9,"p",35),u.Qc(10),u.gc(11,"translate"),u.Tb(),u.Ub(12,"strong",35),u.Qc(13),u.gc(14,"crypto"),u.gc(15,"uppercase"),u.Tb(),u.Tb(),u.Ub(16,"section",34),u.Ub(17,"p",35),u.Qc(18),u.gc(19,"translate"),u.Tb(),u.Ub(20,"strong",36),u.Qc(21),u.Tb(),u.Tb(),u.Ub(22,"section",34),u.Ub(23,"p",35),u.Qc(24),u.gc(25,"translate"),u.Tb(),u.Ub(26,"strong",35),u.Qc(27),u.Tb(),u.Tb(),u.Ub(28,"section",34),u.Ub(29,"p",35),u.Qc(30),u.gc(31,"translate"),u.Tb(),u.Ub(32,"strong",37),u.Qc(33),u.Tb(),u.Tb(),u.Ub(34,"section",34),u.Ub(35,"p",35),u.Qc(36),u.gc(37,"translate"),u.Tb(),u.Ub(38,"strong",37),u.Qc(39),u.gc(40,"crypto"),u.gc(41,"uppercase"),u.Tb(),u.Tb(),u.Ub(42,"section",34),u.Ub(43,"p",35),u.Qc(44),u.gc(45,"translate"),u.Tb(),u.Ub(46,"strong",37),u.Qc(47),u.Tb(),u.Tb(),u.Tb()),2&t){const t=e.$implicit;u.Cb(3),u.Sc("",u.hc(4,16,"COLUMN.DATE"),":"),u.Cb(3),u.Sc(" ",u.ic(7,18,t.timestamp,"dd/MMM/yyyy HH:mm:ss")," "),u.Cb(4),u.Sc("",u.hc(11,21,"COLUMN.AMOUNT"),":"),u.Cb(3),u.Tc(" ",u.ic(14,23,t.amount,t.currencyUnit)," ",u.hc(15,26,t.currencyUnit)," "),u.Cb(5),u.Sc("",u.hc(19,28,"COLUMN.TYPE"),":"),u.Cb(3),u.Rc(t.type),u.Cb(3),u.Sc("",u.hc(25,30,"COLUMN.SYMBOL"),":"),u.Cb(3),u.Rc(t.currencyUnit),u.Cb(3),u.Sc("",u.hc(31,32,"COLUMN.STATUS"),":"),u.Cb(3),u.Sc(" ",t.status||"-"," "),u.Cb(3),u.Sc("",u.hc(37,34,"COLUMN.FEE"),":"),u.Cb(3),u.Tc(" ",u.ic(40,36,t.transferFee,t.currencyUnit)||"-"," ",t.transferFee?u.hc(41,39,t.currencyUnit):""," "),u.Cb(5),u.Sc("",u.hc(45,41,"COLUMN.BANK_TRANSACTION_ID"),":"),u.Cb(3),u.Sc(" ",t.bankTransactionId||"-"," ")}}function gc(t,e){1&t&&(u.Ub(0,"section",38),u.Ub(1,"p",39),u.Qc(2,"NO_CONTENT.LOGS"),u.Tb(),u.Tb())}function mc(t,e){1&t&&u.Pb(0,"kraken-loading")}let fc=(()=>{class t{constructor(){this.tableColumns=["timestamp","currencyUnit","amount","type","status","transferFee","bankTransactionId"],this.tableData=new S.k([])}ngOnInit(){this.paginator.pageSizeOptions=[25,50,100],this.paginator.pageSize=25}ngOnChanges(t){var e;(null===(e=t.logs)||void 0===e?void 0:e.currentValue)&&(this.tableData=new S.k(this.logs),this.tableData.paginator=this.paginator)}get loaded(){return!!this.logs}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=u.Ib({type:t,selectors:[["fiat-transfers"]],viewQuery:function(t,e){var c;1&t&&u.Jc(y.a,!0),2&t&&u.zc(c=u.cc())&&(e.paginator=c.first)},inputs:{logs:"logs"},features:[u.Ab],decls:10,vars:4,consts:[["class","table-wrapper",4,"ngIf","ngIfElse"],["class","scroll-viewport",3,"itemSize",4,"ngIf","ngIfElse"],[1,"paginator"],["showFirstLastButtons",""],["mobileCard",""],["noLogs",""],["loading",""],[1,"table-wrapper"],["mat-table","","matSort","",3,"dataSource",4,"ngIf","ngIfElse"],["mat-table","","matSort","",3,"dataSource"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["matColumnDef","timestamp"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","","body","","mono","",4,"matCellDef"],["matColumnDef","amount"],["mat-cell","","body","",4,"matCellDef"],["matColumnDef","type"],["mat-cell","","body","","capitalize","",4,"matCellDef"],["matColumnDef","currencyUnit"],["matColumnDef","status"],["matColumnDef","transferFee"],["matColumnDef","bankTransactionId"],["mat-header-row",""],["mat-row",""],["mat-header-cell",""],["mat-cell","","body","","mono",""],["mat-cell","","body",""],["mat-cell","","body","","capitalize",""],[1,"scroll-viewport",3,"itemSize"],[4,"ngIf","ngIfElse"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"cdkVirtualFor","cdkVirtualForOf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"card"],[1,"card-detail"],["body",""],["body","","capitalize",""],["body","","mono",""],[1,"empty"],["body","","translate","",1,"global__text--warn"]],template:function(t,e){if(1&t&&(u.Oc(0,ic,2,2,"div",0),u.Oc(1,lc,2,3,"cdk-virtual-scroll-viewport",1),u.Ub(2,"div",2),u.Pb(3,"mat-paginator",3),u.Tb(),u.Oc(4,dc,48,43,"ng-template",null,4,u.Pc),u.Oc(6,gc,3,0,"ng-template",null,5,u.Pc),u.Oc(8,mc,1,0,"ng-template",null,6,u.Pc)),2&t){const t=u.Ac(9);u.mc("ngIf",e.loaded)("ngIfElse",t),u.Cb(1),u.mc("ngIf",e.loaded)("ngIfElse",t)}},directives:[O.n,y.a,S.j,R.a,S.g,S.i,S.c,S.e,S.b,S.f,S.h,S.d,S.a,I.a,Q.a,L.a,A.e,A.a,A.d,O.s,H.a,B.a],pipes:[H.d,O.e,W.a,O.x],styles:['[_nghost-%COMP%]{display:grid;grid-template:"logs     logs" 1fr "options  paginator" auto/1fr 1fr}@media (max-width:1024px){[_nghost-%COMP%]{grid-template:"logs" 1fr "options" auto/1fr}[_nghost-%COMP%]   .paginator[_ngcontent-%COMP%]{display:none}}cdk-virtual-scroll-viewport[_ngcontent-%COMP%]{display:none;grid-area:logs}@media (max-width:1024px){cdk-virtual-scroll-viewport[_ngcontent-%COMP%]{display:block}}.table-wrapper[_ngcontent-%COMP%]{grid-area:logs;overflow-y:auto}table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]:hover{background-color:rgba(var(--text-colour-rgb),.1)}table[_ngcontent-%COMP%]   .mat-column-amount[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   .mat-column-bankTransactionId[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   .mat-column-currencyUnit[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   .mat-column-status[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   .mat-column-transferFee[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   .mat-column-type[_ngcontent-%COMP%]{padding-right:var(--spacing);text-align:right}@media (max-width:1024px){table[_ngcontent-%COMP%]{display:none}}.card[_ngcontent-%COMP%]{border:1px solid var(--border-colour);cursor:pointer;margin:var(--spacing);padding:var(--spacing)}.card[_ngcontent-%COMP%]:hover{background-color:var(--toolbar-colour)}.card-detail[_ngcontent-%COMP%]{align-items:center;display:flex;justify-content:space-between;margin-bottom:6px}.paginator[_ngcontent-%COMP%]{grid-area:paginator}.empty[_ngcontent-%COMP%]{text-align:center;padding:var(--spacing)}'],changeDetection:0}),t})();function pc(t,e){if(1&t){const t=u.Vb();u.Ub(0,"logs",11),u.bc("loadMore",(function(e){return u.Ec(t),u.fc().getExtraLogs(e)})),u.gc(1,"async"),u.Tb()}if(2&t){const t=u.fc();u.mc("logs",u.hc(1,1,t.logs$))}}function uc(t,e){if(1&t&&(u.Pb(0,"logs",12),u.gc(1,"async")),2&t){const t=u.fc();u.mc("logs",u.hc(1,1,t.trades$))}}function hc(t,e){if(1&t&&(u.Pb(0,"recent-orders",13),u.gc(1,"async")),2&t){const t=u.fc();u.mc("orders",u.hc(1,1,t.orders$))}}function Cc(t,e){if(1&t&&(u.Pb(0,"logs",12),u.gc(1,"async")),2&t){const t=u.fc(2);u.mc("logs",u.hc(1,1,t.xexTransfers$))}}function Oc(t,e){if(1&t&&(u.Oc(0,Cc,2,3,"logs",14),u.gc(1,"async")),2&t){const t=u.fc(),e=u.Ac(15);u.mc("ngIf",u.hc(1,2,t.isExternal$))("ngIfElse",e)}}function Tc(t,e){if(1&t){const t=u.Vb();u.Ub(0,"deposits-withdrawals",15),u.bc("cancelWithdrawal",(function(e){return u.Ec(t),u.fc().cancelWithdrawal(e)})),u.gc(1,"async"),u.Tb()}if(2&t){const t=u.fc();u.mc("depositsWithdrawals",u.hc(1,1,t.transfers$))}}function _c(t,e){if(1&t&&(u.Pb(0,"fiat-transfers",12),u.gc(1,"async")),2&t){const t=u.fc(2);u.mc("logs",u.hc(1,1,t.fiatTransfers$))}}function Uc(t,e){1&t&&(u.Ub(0,"mat-tab",2),u.gc(1,"translate"),u.Oc(2,_c,2,3,"ng-template",3),u.Tb()),2&t&&u.mc("label",u.hc(1,1,"HEADING.FIAT_TRANSFERS"))}function wc(t,e){if(1&t){const t=u.Vb();u.Ub(0,"button",9),u.bc("click",(function(){return u.Ec(t),u.fc().selectTab(4)})),u.Qc(1),u.gc(2,"translate"),u.Tb()}2&t&&(u.Cb(1),u.Sc(" ",u.hc(2,1,"HEADING.FIAT_TRANSFERS")," "))}const Mc=[a.a,n.h.forChild([{path:"",component:(()=>{let t=class{constructor(t,e){this.store=t,this.env=e,this.isExternal$=this.store.pipe(Object(b.m)(p.l)),this.logs$=this.store.pipe(Object(b.m)(f.d)),this.orders$=this.store.pipe(Object(b.m)(f.e)),this.trades$=this.store.pipe(Object(b.m)(f.f)),this.xexTransfers$=this.store.pipe(Object(b.m)(f.h)),this.transfers$=this.store.pipe(Object(b.m)(f.g)),this.fiatTransfers$=this.store.pipe(Object(b.m)(f.b)),this.userHasMTFBanking$=this.store.pipe(Object(b.m)(p.A))}ngOnInit(){this.store.dispatch(Object(l.x)("NAV.LOGS")),this.openUserHistoryFeeds(),this.userHasMTFBanking$.pipe(Object(r.g)()).subscribe(()=>{this.store.dispatch(Object(d.g)()),this.store.dispatch(Object(d.h)())})}ngOnDestroy(){this.closeUserHistoryFeeds()}openUserHistoryFeeds(){this.store.dispatch(Object(d.i)())}closeUserHistoryFeeds(){this.store.dispatch(Object(d.d)())}getExtraLogs(t){this.store.dispatch(Object(d.e)(t))}cancelWithdrawal(t){this.store.dispatch(Object(g.c)({withdrawalId:t}))}selectTab(t){this.tabs.selectedIndex=t}get activeTabName(){var t,e;const c={0:"BUTTON.ALL",1:"BUTTON.TRADES",2:"HEADING.ORDER_HISTORY",3:"BUTTON.DEPOSITS_AND_WITHDRAWALS",4:"HEADING.FIAT_TRANSFERS"};return null!==(e=c[null!==(t=this.tabs.selectedIndex)&&void 0!==t?t:0])&&void 0!==e?e:c[0]}};return t.\u0275fac=function(e){return new(e||t)(u.Ob(b.b),u.Ob(m.a))},t.\u0275cmp=u.Ib({type:t,selectors:[["history"]],viewQuery:function(t,e){var c;1&t&&u.Jc(i.c,!0),2&t&&u.zc(c=u.cc())&&(e.tabs=c.first)},decls:39,vars:34,consts:[["sb-card","",1,"global__tab-header-hidden"],["tabs",""],[3,"label"],["matTabContent",""],["directTransfers",""],[3,"label",4,"ngIf"],["mat-raised-button","",1,"handset-nav",3,"sbMenuTriggerFor"],["icon","chevron-down","size","lg"],["settingsMenu","sbMenu"],["sb-menu-item","",3,"click"],["sb-menu-item","",3,"click",4,"ngIf"],[3,"logs","loadMore"],[3,"logs"],[3,"orders"],[3,"logs",4,"ngIf","ngIfElse"],[3,"depositsWithdrawals","cancelWithdrawal"]],template:function(t,e){if(1&t&&(u.Ub(0,"mat-tab-group",0,1),u.Ub(2,"mat-tab",2),u.gc(3,"translate"),u.Oc(4,pc,2,3,"ng-template",3),u.Tb(),u.Ub(5,"mat-tab",2),u.gc(6,"translate"),u.Oc(7,uc,2,3,"ng-template",3),u.Tb(),u.Ub(8,"mat-tab",2),u.gc(9,"translate"),u.Oc(10,hc,2,3,"ng-template",3),u.Tb(),u.Ub(11,"mat-tab",2),u.gc(12,"translate"),u.Oc(13,Oc,2,4,"ng-template",3),u.Oc(14,Tc,2,3,"ng-template",null,4,u.Pc),u.Tb(),u.Oc(16,Uc,3,3,"mat-tab",5),u.gc(17,"async"),u.Tb(),u.Ub(18,"button",6),u.Ub(19,"span"),u.Qc(20),u.gc(21,"translate"),u.Tb(),u.Pb(22,"fa-icon",7),u.Tb(),u.Ub(23,"sb-menu",null,8),u.Ub(25,"button",9),u.bc("click",(function(){return e.selectTab(0)})),u.Qc(26),u.gc(27,"translate"),u.Tb(),u.Ub(28,"button",9),u.bc("click",(function(){return e.selectTab(1)})),u.Qc(29),u.gc(30,"translate"),u.Tb(),u.Ub(31,"button",9),u.bc("click",(function(){return e.selectTab(2)})),u.Qc(32),u.gc(33,"translate"),u.Tb(),u.Ub(34,"button",9),u.bc("click",(function(){return e.selectTab(3)})),u.Qc(35),u.gc(36,"translate"),u.Tb(),u.Oc(37,wc,3,3,"button",10),u.gc(38,"async"),u.Tb()),2&t){const t=u.Ac(24);u.Cb(2),u.mc("label",u.hc(3,12,"BUTTON.ALL")),u.Cb(3),u.mc("label",u.hc(6,14,"BUTTON.TRADES")),u.Cb(3),u.mc("label",u.hc(9,16,"HEADING.ORDER_HISTORY")),u.Cb(3),u.mc("label",u.hc(12,18,"BUTTON.DEPOSITS_AND_WITHDRAWALS")),u.Cb(5),u.mc("ngIf",u.hc(17,20,e.userHasMTFBanking$)),u.Cb(2),u.mc("sbMenuTriggerFor",t),u.Cb(2),u.Rc(u.hc(21,22,e.activeTabName)),u.Cb(6),u.Rc(u.hc(27,24,"BUTTON.ALL")),u.Cb(3),u.Rc(u.hc(30,26,"BUTTON.TRADES")),u.Cb(3),u.Rc(u.hc(33,28,"HEADING.ORDER_HISTORY")),u.Cb(3),u.Sc(" ",u.hc(36,30,"BUTTON.DEPOSITS_AND_WITHDRAWALS")," "),u.Cb(2),u.mc("ngIf",u.hc(38,32,e.userHasMTFBanking$))}},directives:[i.c,h.a,i.a,C.a,i.b,O.n,T.b,_.b,U.b,w.a,M.a,Rt,re,Be,fc],pipes:[H.d,O.b],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;overflow-y:hidden}deposits-withdrawals[_ngcontent-%COMP%], fiat-transfers[_ngcontent-%COMP%], logs[_ngcontent-%COMP%], recent-orders[_ngcontent-%COMP%]{height:calc(var(--route-outlet-height) - 46px - 2px)}@media (max-width:1024px){deposits-withdrawals[_ngcontent-%COMP%], fiat-transfers[_ngcontent-%COMP%], logs[_ngcontent-%COMP%], recent-orders[_ngcontent-%COMP%]{height:calc(100vh - 46px - 50px - var(--spacing-xl))}}.handset-nav[_ngcontent-%COMP%]{display:none;margin-top:var(--spacing);width:100%}@media (max-width:1024px){.handset-nav[_ngcontent-%COMP%]{display:block}}"],changeDetection:0}),t=Object(o.d)([Object(s.a)()],t),t})()}])];let yc=(()=>{class t{}return t.\u0275mod=u.Mb({type:t}),t.\u0275inj=u.Lb({factory:function(e){return new(e||t)},imports:[Mc]}),t})()}}]);